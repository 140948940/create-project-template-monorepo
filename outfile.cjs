#!/usr/bin/env node
"use strict";var t=require("fs"),e=require("path"),i=require("readline"),r=require("events"),s=require("constants"),n=require("stream"),o=require("util"),h=require("assert"),a=require("url");function l(t){var e=Object.create(null);return t&&Object.keys(t).forEach((function(i){if("default"!==i){var r=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(e,i,r.get?r:{enumerable:!0,get:function(){return t[i]}})}})),e.default=t,Object.freeze(e)}var c,u,d,f,p,m,g,y,v,b,w,S,x,O,k,E,P,T,$,M,C,D,j,I,F,_,R,A,L,N,Y,V,U,H,J,W,B,q,z,G,K,Z,X,Q,tt,et,it,rt,st,nt,ot,ht,at,lt,ct,ut,dt,ft,pt,mt,gt,yt,vt,bt,wt,St,xt,Ot=l(t),kt=l(e),Et="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Pt={};function Tt(){if(u)return c;u=1;const{FORCE_COLOR:t,NODE_DISABLE_COLORS:e,TERM:i}=process.env,r={enabled:!e&&"dumb"!==i&&"0"!==t,reset:n(0,0),bold:n(1,22),dim:n(2,22),italic:n(3,23),underline:n(4,24),inverse:n(7,27),hidden:n(8,28),strikethrough:n(9,29),black:n(30,39),red:n(31,39),green:n(32,39),yellow:n(33,39),blue:n(34,39),magenta:n(35,39),cyan:n(36,39),white:n(37,39),gray:n(90,39),grey:n(90,39),bgBlack:n(40,49),bgRed:n(41,49),bgGreen:n(42,49),bgYellow:n(43,49),bgBlue:n(44,49),bgMagenta:n(45,49),bgCyan:n(46,49),bgWhite:n(47,49)};function s(t,e){let i,r=0,s="",n="";for(;r<t.length;r++)i=t[r],s+=i.open,n+=i.close,e.includes(i.close)&&(e=e.replace(i.rgx,i.close+i.open));return s+e+n}function n(t,e){let i={open:`[${t}m`,close:`[${e}m`,rgx:new RegExp(`\\x1b\\[${e}m`,"g")};return function(e){return void 0!==this&&void 0!==this.has?(this.has.includes(t)||(this.has.push(t),this.keys.push(i)),void 0===e?this:r.enabled?s(this.keys,e+""):e+""):void 0===e?function(t,e){let i={has:t,keys:e};return i.reset=r.reset.bind(i),i.bold=r.bold.bind(i),i.dim=r.dim.bind(i),i.italic=r.italic.bind(i),i.underline=r.underline.bind(i),i.inverse=r.inverse.bind(i),i.hidden=r.hidden.bind(i),i.strikethrough=r.strikethrough.bind(i),i.black=r.black.bind(i),i.red=r.red.bind(i),i.green=r.green.bind(i),i.yellow=r.yellow.bind(i),i.blue=r.blue.bind(i),i.magenta=r.magenta.bind(i),i.cyan=r.cyan.bind(i),i.white=r.white.bind(i),i.gray=r.gray.bind(i),i.grey=r.grey.bind(i),i.bgBlack=r.bgBlack.bind(i),i.bgRed=r.bgRed.bind(i),i.bgGreen=r.bgGreen.bind(i),i.bgYellow=r.bgYellow.bind(i),i.bgBlue=r.bgBlue.bind(i),i.bgMagenta=r.bgMagenta.bind(i),i.bgCyan=r.bgCyan.bind(i),i.bgWhite=r.bgWhite.bind(i),i}([t],[i]):r.enabled?s([i],e+""):e+""}}return c=r}function $t(){return m?p:(m=1,p=t=>{const e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))"].join("|"),i=new RegExp(e,"g");return"string"==typeof t?t.replace(i,""):t})}function Mt(){if(y)return g;y=1;const t="[",e={to:(e,i)=>i?`${t}${i+1};${e+1}H`:`${t}${e+1}G`,move(e,i){let r="";return e<0?r+=`${t}${-e}D`:e>0&&(r+=`${t}${e}C`),i<0?r+=`${t}${-i}A`:i>0&&(r+=`${t}${i}B`),r},up:(e=1)=>`${t}${e}A`,down:(e=1)=>`${t}${e}B`,forward:(e=1)=>`${t}${e}C`,backward:(e=1)=>`${t}${e}D`,nextLine:(e=1)=>`${t}E`.repeat(e),prevLine:(e=1)=>`${t}F`.repeat(e),left:`${t}G`,hide:`${t}?25l`,show:`${t}?25h`,save:"7",restore:"8"},i={screen:`${t}2J`,up:(e=1)=>`${t}1J`.repeat(e),down:(e=1)=>`${t}J`.repeat(e),line:`${t}2K`,lineEnd:`${t}K`,lineStart:`${t}1K`,lines(t){let i="";for(let r=0;r<t;r++)i+=this.line+(r<t-1?e.up():"");return t&&(i+=e.left),i}};return g={cursor:e,scroll:{up:(e=1)=>`${t}S`.repeat(e),down:(e=1)=>`${t}T`.repeat(e)},erase:i,beep:""}}function Ct(){if(b)return v;function t(t,i){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,i){if(!t)return;if("string"==typeof t)return e(t,i);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e(t,i)}(t))||i&&t&&"number"==typeof t.length){r&&(t=r);var s=0,n=function(){};return{s:n,n:function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,h=!0,a=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return h=t.done,t},e:function(t){a=!0,o=t},f:function(){try{h||null==r.return||r.return()}finally{if(a)throw o}}}}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}b=1;const i=$t(),r=Mt(),s=r.erase,n=r.cursor;return v=function(e,r){if(!r)return s.line+n.to(0);let o=0;var h,a=t(e.split(/\r?\n/));try{for(a.s();!(h=a.n()).done;){let t=h.value;o+=1+Math.floor(Math.max([...i(t)].length-1,0)/r)}}catch(t){a.e(t)}finally{a.f()}return s.lines(o)},v}function Dt(){if(S)return w;S=1;const t={arrowUp:"↑",arrowDown:"↓",arrowLeft:"←",arrowRight:"→",radioOn:"◉",radioOff:"◯",tick:"✔",cross:"✖",ellipsis:"…",pointerSmall:"›",line:"─",pointer:"❯"},e={arrowUp:t.arrowUp,arrowDown:t.arrowDown,arrowLeft:t.arrowLeft,arrowRight:t.arrowRight,radioOn:"(*)",radioOff:"( )",tick:"√",cross:"×",ellipsis:"...",pointerSmall:"»",line:"─",pointer:">"},i="win32"===process.platform?e:t;return w=i}function jt(){if(O)return x;O=1;const t=Tt(),e=Dt(),i=Object.freeze({password:{scale:1,render:t=>"*".repeat(t.length)},emoji:{scale:2,render:t=>"😃".repeat(t.length)},invisible:{scale:0,render:t=>""},default:{scale:1,render:t=>`${t}`}}),r=Object.freeze({aborted:t.red(e.cross),done:t.green(e.tick),exited:t.yellow(e.cross),default:t.cyan("?")});return x={styles:i,render:t=>i[t]||i.default,symbols:r,symbol:(t,e,i)=>e?r.aborted:i?r.exited:t?r.done:r.default,delimiter:i=>t.gray(i?e.ellipsis:e.pointerSmall),item:(i,r)=>t.gray(i?r?e.pointerSmall:"+":e.line)}}function It(){if(E)return k;E=1;const t=$t();return k=function(e,i){let r=String(t(e)||"").split(/\r?\n/);return i?r.map((t=>Math.ceil(t.length/i))).reduce(((t,e)=>t+e)):r.length},k}function Ft(){return D?C:(D=1,C={action:f?d:(f=1,d=(t,e)=>{if(!t.meta||"escape"===t.name){if(t.ctrl){if("a"===t.name)return"first";if("c"===t.name)return"abort";if("d"===t.name)return"abort";if("e"===t.name)return"last";if("g"===t.name)return"reset"}if(e){if("j"===t.name)return"down";if("k"===t.name)return"up"}return"return"===t.name||"enter"===t.name?"submit":"backspace"===t.name?"delete":"delete"===t.name?"deleteForward":"abort"===t.name?"abort":"escape"===t.name?"exit":"tab"===t.name?"next":"pagedown"===t.name?"nextPage":"pageup"===t.name?"prevPage":"home"===t.name?"home":"end"===t.name?"end":"up"===t.name?"up":"down"===t.name?"down":"right"===t.name?"right":"left"===t.name&&"left"}}),clear:Ct(),style:jt(),strip:$t(),figures:Dt(),lines:It(),wrap:T?P:(T=1,P=(t,e={})=>{const i=Number.isSafeInteger(parseInt(e.margin))?new Array(parseInt(e.margin)).fill(" ").join(""):e.margin||"",r=e.width;return(t||"").split(/\r?\n/g).map((t=>t.split(/\s+/g).reduce(((t,e)=>(e.length+i.length>=r||t[t.length-1].length+e.length+1<r?t[t.length-1]+=` ${e}`:t.push(`${i}${e}`),t)),[i]).join("\n"))).join("\n")}),entriesToDisplay:M?$:(M=1,$=(t,e,i)=>{i=i||e;let r=Math.min(e-i,t-Math.floor(i/2));return r<0&&(r=0),{startIndex:r,endIndex:Math.min(r+i,e)}})})}function _t(){if(I)return j;I=1;const t=i,e=Ft().action,s=r,n=Mt(),o=n.beep,h=n.cursor,a=Tt();return j=class extends s{constructor(i={}){super(),this.firstRender=!0,this.in=i.stdin||process.stdin,this.out=i.stdout||process.stdout,this.onRender=(i.onRender||(()=>{})).bind(this);const r=t.createInterface({input:this.in,escapeCodeTimeout:50});t.emitKeypressEvents(this.in,r),this.in.isTTY&&this.in.setRawMode(!0);const s=["SelectPrompt","MultiselectPrompt"].indexOf(this.constructor.name)>-1,n=(t,i)=>{let r=e(i,s);!1===r?this._&&this._(t,i):"function"==typeof this[r]?this[r](i):this.bell()};this.close=()=>{this.out.write(h.show),this.in.removeListener("keypress",n),this.in.isTTY&&this.in.setRawMode(!1),r.close(),this.emit(this.aborted?"abort":this.exited?"exit":"submit",this.value),this.closed=!0},this.in.on("keypress",n)}fire(){this.emit("state",{value:this.value,aborted:!!this.aborted,exited:!!this.exited})}bell(){this.out.write(o)}render(){this.onRender(a),this.firstRender&&(this.firstRender=!1)}}}function Rt(){if(_)return F;function t(t,e,i,r,s,n,o){try{var h=t[n](o),a=h.value}catch(t){return void i(t)}h.done?e(a):Promise.resolve(a).then(r,s)}function e(e){return function(){var i=this,r=arguments;return new Promise((function(s,n){var o=e.apply(i,r);function h(e){t(o,s,n,h,a,"next",e)}function a(e){t(o,s,n,h,a,"throw",e)}h(void 0)}))}}_=1;const i=Tt(),r=_t(),s=Mt(),n=s.erase,o=s.cursor,h=Ft(),a=h.style,l=h.clear,c=h.lines,u=h.figures;return F=class extends r{constructor(t={}){super(t),this.transform=a.render(t.style),this.scale=this.transform.scale,this.msg=t.message,this.initial=t.initial||"",this.validator=t.validate||(()=>!0),this.value="",this.errorMsg=t.error||"Please Enter A Valid Value",this.cursor=Number(!!this.initial),this.cursorOffset=0,this.clear=l("",this.out.columns),this.render()}set value(t){!t&&this.initial?(this.placeholder=!0,this.rendered=i.gray(this.transform.render(this.initial))):(this.placeholder=!1,this.rendered=this.transform.render(t)),this._value=t,this.fire()}get value(){return this._value}reset(){this.value="",this.cursor=Number(!!this.initial),this.cursorOffset=0,this.fire(),this.render()}exit(){this.abort()}abort(){this.value=this.value||this.initial,this.done=this.aborted=!0,this.error=!1,this.red=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}validate(){var t=this;return e((function*(){let e=yield t.validator(t.value);"string"==typeof e&&(t.errorMsg=e,e=!1),t.error=!e}))()}submit(){var t=this;return e((function*(){if(t.value=t.value||t.initial,t.cursorOffset=0,t.cursor=t.rendered.length,yield t.validate(),t.error)return t.red=!0,t.fire(),void t.render();t.done=!0,t.aborted=!1,t.fire(),t.render(),t.out.write("\n"),t.close()}))()}next(){if(!this.placeholder)return this.bell();this.value=this.initial,this.cursor=this.rendered.length,this.fire(),this.render()}moveCursor(t){this.placeholder||(this.cursor=this.cursor+t,this.cursorOffset+=t)}_(t,e){let i=this.value.slice(0,this.cursor),r=this.value.slice(this.cursor);this.value=`${i}${t}${r}`,this.red=!1,this.cursor=this.placeholder?0:i.length+1,this.render()}delete(){if(this.isCursorAtStart())return this.bell();let t=this.value.slice(0,this.cursor-1),e=this.value.slice(this.cursor);this.value=`${t}${e}`,this.red=!1,this.isCursorAtStart()?this.cursorOffset=0:(this.cursorOffset++,this.moveCursor(-1)),this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();let t=this.value.slice(0,this.cursor),e=this.value.slice(this.cursor+1);this.value=`${t}${e}`,this.red=!1,this.isCursorAtEnd()?this.cursorOffset=0:this.cursorOffset++,this.render()}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length,this.render()}left(){if(this.cursor<=0||this.placeholder)return this.bell();this.moveCursor(-1),this.render()}right(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();this.moveCursor(1),this.render()}isCursorAtStart(){return 0===this.cursor||this.placeholder&&1===this.cursor}isCursorAtEnd(){return this.cursor===this.rendered.length||this.placeholder&&this.cursor===this.rendered.length+1}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(o.down(c(this.outputError,this.out.columns)-1)+l(this.outputError,this.out.columns)),this.out.write(l(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[a.symbol(this.done,this.aborted),i.bold(this.msg),a.delimiter(this.done),this.red?i.red(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split("\n").reduce(((t,e,r)=>t+`\n${r?" ":u.pointerSmall} ${i.red().italic(e)}`),"")),this.out.write(n.line+o.to(0)+this.outputText+o.save+this.outputError+o.restore+o.move(this.cursorOffset,0)))}}}function At(){if(A)return R;A=1;const t=Tt(),e=_t(),i=Ft(),r=i.style,s=i.clear,n=i.figures,o=i.wrap,h=i.entriesToDisplay,a=Mt().cursor;return R=class extends e{constructor(t={}){super(t),this.msg=t.message,this.hint=t.hint||"- Use arrow-keys. Return to submit.",this.warn=t.warn||"- This option is disabled",this.cursor=t.initial||0,this.choices=t.choices.map(((t,e)=>("string"==typeof t&&(t={title:t,value:e}),{title:t&&(t.title||t.value||t),value:t&&(void 0===t.value?e:t.value),description:t&&t.description,selected:t&&t.selected,disabled:t&&t.disabled}))),this.optionsPerPage=t.optionsPerPage||10,this.value=(this.choices[this.cursor]||{}).value,this.clear=s("",this.out.columns),this.render()}moveCursor(t){this.cursor=t,this.value=this.choices[t].value,this.fire()}reset(){this.moveCursor(0),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.selection.disabled?this.bell():(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close())}first(){this.moveCursor(0),this.render()}last(){this.moveCursor(this.choices.length-1),this.render()}up(){0===this.cursor?this.moveCursor(this.choices.length-1):this.moveCursor(this.cursor-1),this.render()}down(){this.cursor===this.choices.length-1?this.moveCursor(0):this.moveCursor(this.cursor+1),this.render()}next(){this.moveCursor((this.cursor+1)%this.choices.length),this.render()}_(t,e){if(" "===t)return this.submit()}get selection(){return this.choices[this.cursor]}render(){if(this.closed)return;this.firstRender?this.out.write(a.hide):this.out.write(s(this.outputText,this.out.columns)),super.render();let e=h(this.cursor,this.choices.length,this.optionsPerPage),i=e.startIndex,l=e.endIndex;if(this.outputText=[r.symbol(this.done,this.aborted),t.bold(this.msg),r.delimiter(!1),this.done?this.selection.title:this.selection.disabled?t.yellow(this.warn):t.gray(this.hint)].join(" "),!this.done){this.outputText+="\n";for(let e=i;e<l;e++){let r,s,h="",a=this.choices[e];s=e===i&&i>0?n.arrowUp:e===l-1&&l<this.choices.length?n.arrowDown:" ",a.disabled?(r=this.cursor===e?t.gray().underline(a.title):t.strikethrough().gray(a.title),s=(this.cursor===e?t.bold().gray(n.pointer)+" ":"  ")+s):(r=this.cursor===e?t.cyan().underline(a.title):a.title,s=(this.cursor===e?t.cyan(n.pointer)+" ":"  ")+s,a.description&&this.cursor===e&&(h=` - ${a.description}`,(s.length+r.length+h.length>=this.out.columns||a.description.split(/\r?\n/).length>1)&&(h="\n"+o(a.description,{margin:3,width:this.out.columns})))),this.outputText+=`${s} ${r}${t.gray(h)}\n`}}this.out.write(this.outputText)}}}function Lt(){if(N)return L;N=1;const t=Tt(),e=_t(),i=Ft(),r=i.style,s=i.clear,n=Mt(),o=n.cursor,h=n.erase;return L=class extends e{constructor(t={}){super(t),this.msg=t.message,this.value=!!t.initial,this.active=t.active||"on",this.inactive=t.inactive||"off",this.initialValue=this.value,this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}deactivate(){if(!1===this.value)return this.bell();this.value=!1,this.render()}activate(){if(!0===this.value)return this.bell();this.value=!0,this.render()}delete(){this.deactivate()}left(){this.deactivate()}right(){this.activate()}down(){this.deactivate()}up(){this.activate()}next(){this.value=!this.value,this.fire(),this.render()}_(t,e){if(" "===t)this.value=!this.value;else if("1"===t)this.value=!0;else{if("0"!==t)return this.bell();this.value=!1}this.render()}render(){this.closed||(this.firstRender?this.out.write(o.hide):this.out.write(s(this.outputText,this.out.columns)),super.render(),this.outputText=[r.symbol(this.done,this.aborted),t.bold(this.msg),r.delimiter(this.done),this.value?this.inactive:t.cyan().underline(this.inactive),t.gray("/"),this.value?t.cyan().underline(this.active):this.active].join(" "),this.out.write(h.line+o.to(0)+this.outputText))}}}function Nt(){if(V)return Y;V=1;class t{constructor({token:t,date:e,parts:i,locales:r}){this.token=t,this.date=e||new Date,this.parts=i||[this],this.locales=r||{}}up(){}down(){}next(){const e=this.parts.indexOf(this);return this.parts.find(((i,r)=>r>e&&i instanceof t))}setTo(t){}prev(){let e=[].concat(this.parts).reverse();const i=e.indexOf(this);return e.find(((e,r)=>r>i&&e instanceof t))}toString(){return String(this.date)}}return Y=t}function Yt(){if(H)return U;H=1;const t=Nt();return U=class extends t{constructor(t={}){super(t)}up(){this.date.setHours((this.date.getHours()+12)%24)}down(){this.up()}toString(){let t=this.date.getHours()>12?"pm":"am";return/\A/.test(this.token)?t.toUpperCase():t}},U}function Vt(){if(W)return J;W=1;const t=Nt();return J=class extends t{constructor(t={}){super(t)}up(){this.date.setDate(this.date.getDate()+1)}down(){this.date.setDate(this.date.getDate()-1)}setTo(t){this.date.setDate(parseInt(t.substr(-2)))}toString(){let t=this.date.getDate(),e=this.date.getDay();return"DD"===this.token?String(t).padStart(2,"0"):"Do"===this.token?t+(i=t,1==(i%=10)?"st":2===i?"nd":3===i?"rd":"th"):"d"===this.token?e+1:"ddd"===this.token?this.locales.weekdaysShort[e]:"dddd"===this.token?this.locales.weekdays[e]:t;var i}},J}function Ut(){if(q)return B;q=1;const t=Nt();return B=class extends t{constructor(t={}){super(t)}up(){this.date.setHours(this.date.getHours()+1)}down(){this.date.setHours(this.date.getHours()-1)}setTo(t){this.date.setHours(parseInt(t.substr(-2)))}toString(){let t=this.date.getHours();return/h/.test(this.token)&&(t=t%12||12),this.token.length>1?String(t).padStart(2,"0"):t}},B}function Ht(){if(G)return z;G=1;const t=Nt();return z=class extends t{constructor(t={}){super(t)}up(){this.date.setMilliseconds(this.date.getMilliseconds()+1)}down(){this.date.setMilliseconds(this.date.getMilliseconds()-1)}setTo(t){this.date.setMilliseconds(parseInt(t.substr(-this.token.length)))}toString(){return String(this.date.getMilliseconds()).padStart(4,"0").substr(0,this.token.length)}}}function Jt(){if(Z)return K;Z=1;const t=Nt();return K=class extends t{constructor(t={}){super(t)}up(){this.date.setMinutes(this.date.getMinutes()+1)}down(){this.date.setMinutes(this.date.getMinutes()-1)}setTo(t){this.date.setMinutes(parseInt(t.substr(-2)))}toString(){let t=this.date.getMinutes();return this.token.length>1?String(t).padStart(2,"0"):t}}}function Wt(){if(Q)return X;Q=1;const t=Nt();return X=class extends t{constructor(t={}){super(t)}up(){this.date.setMonth(this.date.getMonth()+1)}down(){this.date.setMonth(this.date.getMonth()-1)}setTo(t){t=parseInt(t.substr(-2))-1,this.date.setMonth(t<0?0:t)}toString(){let t=this.date.getMonth(),e=this.token.length;return 2===e?String(t+1).padStart(2,"0"):3===e?this.locales.monthsShort[t]:4===e?this.locales.months[t]:String(t+1)}},X}function Bt(){if(et)return tt;et=1;const t=Nt();return tt=class extends t{constructor(t={}){super(t)}up(){this.date.setSeconds(this.date.getSeconds()+1)}down(){this.date.setSeconds(this.date.getSeconds()-1)}setTo(t){this.date.setSeconds(parseInt(t.substr(-2)))}toString(){let t=this.date.getSeconds();return this.token.length>1?String(t).padStart(2,"0"):t}}}function qt(){if(rt)return it;rt=1;const t=Nt();return it=class extends t{constructor(t={}){super(t)}up(){this.date.setFullYear(this.date.getFullYear()+1)}down(){this.date.setFullYear(this.date.getFullYear()-1)}setTo(t){this.date.setFullYear(t.substr(-4))}toString(){let t=String(this.date.getFullYear()).padStart(4,"0");return 2===this.token.length?t.substr(-2):t}},it}function zt(){if(ht)return ot;function t(t,e,i,r,s,n,o){try{var h=t[n](o),a=h.value}catch(t){return void i(t)}h.done?e(a):Promise.resolve(a).then(r,s)}function e(e){return function(){var i=this,r=arguments;return new Promise((function(s,n){var o=e.apply(i,r);function h(e){t(o,s,n,h,a,"next",e)}function a(e){t(o,s,n,h,a,"throw",e)}h(void 0)}))}}ht=1;const i=Tt(),r=_t(),s=Ft(),n=s.style,o=s.clear,h=s.figures,a=Mt(),l=a.erase,c=a.cursor,u=nt?st:(nt=1,st={DatePart:Nt(),Meridiem:Yt(),Day:Vt(),Hours:Ut(),Milliseconds:Ht(),Minutes:Jt(),Month:Wt(),Seconds:Bt(),Year:qt()}),d=u.DatePart,f=u.Meridiem,p=u.Day,m=u.Hours,g=u.Milliseconds,y=u.Minutes,v=u.Month,b=u.Seconds,w=u.Year,S=/\\(.)|"((?:\\["\\]|[^"])+)"|(D[Do]?|d{3,4}|d)|(M{1,4})|(YY(?:YY)?)|([aA])|([Hh]{1,2})|(m{1,2})|(s{1,2})|(S{1,4})|./g,x={1:({token:t})=>t.replace(/\\(.)/g,"$1"),2:t=>new p(t),3:t=>new v(t),4:t=>new w(t),5:t=>new f(t),6:t=>new m(t),7:t=>new y(t),8:t=>new b(t),9:t=>new g(t)},O={months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthsShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),weekdaysShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")};return ot=class extends r{constructor(t={}){super(t),this.msg=t.message,this.cursor=0,this.typed="",this.locales=Object.assign(O,t.locales),this._date=t.initial||new Date,this.errorMsg=t.error||"Please Enter A Valid Value",this.validator=t.validate||(()=>!0),this.mask=t.mask||"YYYY-MM-DD HH:mm:ss",this.clear=o("",this.out.columns),this.render()}get value(){return this.date}get date(){return this._date}set date(t){t&&this._date.setTime(t.getTime())}set mask(t){let e;for(this.parts=[];e=S.exec(t);){let t=e.shift(),i=e.findIndex((t=>null!=t));this.parts.push(i in x?x[i]({token:e[i]||t,date:this.date,parts:this.parts,locales:this.locales}):e[i]||t)}let i=this.parts.reduce(((t,e)=>("string"==typeof e&&"string"==typeof t[t.length-1]?t[t.length-1]+=e:t.push(e),t)),[]);this.parts.splice(0),this.parts.push(...i),this.reset()}moveCursor(t){this.typed="",this.cursor=t,this.fire()}reset(){this.moveCursor(this.parts.findIndex((t=>t instanceof d))),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}validate(){var t=this;return e((function*(){let e=yield t.validator(t.value);"string"==typeof e&&(t.errorMsg=e,e=!1),t.error=!e}))()}submit(){var t=this;return e((function*(){if(yield t.validate(),t.error)return t.color="red",t.fire(),void t.render();t.done=!0,t.aborted=!1,t.fire(),t.render(),t.out.write("\n"),t.close()}))()}up(){this.typed="",this.parts[this.cursor].up(),this.render()}down(){this.typed="",this.parts[this.cursor].down(),this.render()}left(){let t=this.parts[this.cursor].prev();if(null==t)return this.bell();this.moveCursor(this.parts.indexOf(t)),this.render()}right(){let t=this.parts[this.cursor].next();if(null==t)return this.bell();this.moveCursor(this.parts.indexOf(t)),this.render()}next(){let t=this.parts[this.cursor].next();this.moveCursor(t?this.parts.indexOf(t):this.parts.findIndex((t=>t instanceof d))),this.render()}_(t){/\d/.test(t)&&(this.typed+=t,this.parts[this.cursor].setTo(this.typed),this.render())}render(){this.closed||(this.firstRender?this.out.write(c.hide):this.out.write(o(this.outputText,this.out.columns)),super.render(),this.outputText=[n.symbol(this.done,this.aborted),i.bold(this.msg),n.delimiter(!1),this.parts.reduce(((t,e,r)=>t.concat(r!==this.cursor||this.done?e:i.cyan().underline(e.toString()))),[]).join("")].join(" "),this.error&&(this.outputText+=this.errorMsg.split("\n").reduce(((t,e,r)=>t+`\n${r?" ":h.pointerSmall} ${i.red().italic(e)}`),"")),this.out.write(l.line+c.to(0)+this.outputText))}},ot}function Gt(){if(lt)return at;function t(t,e,i,r,s,n,o){try{var h=t[n](o),a=h.value}catch(t){return void i(t)}h.done?e(a):Promise.resolve(a).then(r,s)}function e(e){return function(){var i=this,r=arguments;return new Promise((function(s,n){var o=e.apply(i,r);function h(e){t(o,s,n,h,a,"next",e)}function a(e){t(o,s,n,h,a,"throw",e)}h(void 0)}))}}lt=1;const i=Tt(),r=_t(),s=Mt(),n=s.cursor,o=s.erase,h=Ft(),a=h.style,l=h.figures,c=h.clear,u=h.lines,d=/[0-9]/,f=t=>void 0!==t,p=(t,e)=>{let i=Math.pow(10,e);return Math.round(t*i)/i};return at=class extends r{constructor(t={}){super(t),this.transform=a.render(t.style),this.msg=t.message,this.initial=f(t.initial)?t.initial:"",this.float=!!t.float,this.round=t.round||2,this.inc=t.increment||1,this.min=f(t.min)?t.min:-1/0,this.max=f(t.max)?t.max:1/0,this.errorMsg=t.error||"Please Enter A Valid Value",this.validator=t.validate||(()=>!0),this.color="cyan",this.value="",this.typed="",this.lastHit=0,this.render()}set value(t){t||0===t?(this.placeholder=!1,this.rendered=this.transform.render(`${p(t,this.round)}`),this._value=p(t,this.round)):(this.placeholder=!0,this.rendered=i.gray(this.transform.render(`${this.initial}`)),this._value=""),this.fire()}get value(){return this._value}parse(t){return this.float?parseFloat(t):parseInt(t)}valid(t){return"-"===t||"."===t&&this.float||d.test(t)}reset(){this.typed="",this.value="",this.fire(),this.render()}exit(){this.abort()}abort(){let t=this.value;this.value=""!==t?t:this.initial,this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}validate(){var t=this;return e((function*(){let e=yield t.validator(t.value);"string"==typeof e&&(t.errorMsg=e,e=!1),t.error=!e}))()}submit(){var t=this;return e((function*(){if(yield t.validate(),t.error)return t.color="red",t.fire(),void t.render();let e=t.value;t.value=""!==e?e:t.initial,t.done=!0,t.aborted=!1,t.error=!1,t.fire(),t.render(),t.out.write("\n"),t.close()}))()}up(){if(this.typed="",""===this.value&&(this.value=this.min-this.inc),this.value>=this.max)return this.bell();this.value+=this.inc,this.color="cyan",this.fire(),this.render()}down(){if(this.typed="",""===this.value&&(this.value=this.min+this.inc),this.value<=this.min)return this.bell();this.value-=this.inc,this.color="cyan",this.fire(),this.render()}delete(){let t=this.value.toString();if(0===t.length)return this.bell();this.value=this.parse(t=t.slice(0,-1))||"",""!==this.value&&this.value<this.min&&(this.value=this.min),this.color="cyan",this.fire(),this.render()}next(){this.value=this.initial,this.fire(),this.render()}_(t,e){if(!this.valid(t))return this.bell();const i=Date.now();if(i-this.lastHit>1e3&&(this.typed=""),this.typed+=t,this.lastHit=i,this.color="cyan","."===t)return this.fire();this.value=Math.min(this.parse(this.typed),this.max),this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),this.fire(),this.render()}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(n.down(u(this.outputError,this.out.columns)-1)+c(this.outputError,this.out.columns)),this.out.write(c(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[a.symbol(this.done,this.aborted),i.bold(this.msg),a.delimiter(this.done),this.done&&(this.done||this.placeholder)?this.rendered:i[this.color]().underline(this.rendered)].join(" "),this.error&&(this.outputError+=this.errorMsg.split("\n").reduce(((t,e,r)=>t+`\n${r?" ":l.pointerSmall} ${i.red().italic(e)}`),"")),this.out.write(o.line+n.to(0)+this.outputText+n.save+this.outputError+n.restore))}}}function Kt(){if(ut)return ct;ut=1;const t=Tt(),e=Mt().cursor,i=_t(),r=Ft(),s=r.clear,n=r.figures,o=r.style,h=r.wrap,a=r.entriesToDisplay;return ct=class extends i{constructor(t={}){super(t),this.msg=t.message,this.cursor=t.cursor||0,this.scrollIndex=t.cursor||0,this.hint=t.hint||"",this.warn=t.warn||"- This option is disabled -",this.minSelected=t.min,this.showMinError=!1,this.maxChoices=t.max,this.instructions=t.instructions,this.optionsPerPage=t.optionsPerPage||10,this.value=t.choices.map(((t,e)=>("string"==typeof t&&(t={title:t,value:e}),{title:t&&(t.title||t.value||t),description:t&&t.description,value:t&&(void 0===t.value?e:t.value),selected:t&&t.selected,disabled:t&&t.disabled}))),this.clear=s("",this.out.columns),t.overrideRender||this.render()}reset(){this.value.map((t=>!t.selected)),this.cursor=0,this.fire(),this.render()}selected(){return this.value.filter((t=>t.selected))}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){const t=this.value.filter((t=>t.selected));this.minSelected&&t.length<this.minSelected?(this.showMinError=!0,this.render()):(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close())}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.value.length,this.render()}up(){0===this.cursor?this.cursor=this.value.length-1:this.cursor--,this.render()}down(){this.cursor===this.value.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.value[this.cursor].selected=!1,this.render()}right(){if(this.value.filter((t=>t.selected)).length>=this.maxChoices)return this.bell();this.value[this.cursor].selected=!0,this.render()}handleSpaceToggle(){const t=this.value[this.cursor];if(t.selected)t.selected=!1,this.render();else{if(t.disabled||this.value.filter((t=>t.selected)).length>=this.maxChoices)return this.bell();t.selected=!0,this.render()}}toggleAll(){if(void 0!==this.maxChoices||this.value[this.cursor].disabled)return this.bell();const t=!this.value[this.cursor].selected;this.value.filter((t=>!t.disabled)).forEach((e=>e.selected=t)),this.render()}_(t,e){if(" "===t)this.handleSpaceToggle();else{if("a"!==t)return this.bell();this.toggleAll()}}renderInstructions(){return void 0===this.instructions||this.instructions?"string"==typeof this.instructions?this.instructions:`\nInstructions:\n    ${n.arrowUp}/${n.arrowDown}: Highlight option\n    ${n.arrowLeft}/${n.arrowRight}/[space]: Toggle selection\n`+(void 0===this.maxChoices?"    a: Toggle all\n":"")+"    enter/return: Complete answer":""}renderOption(e,i,r,s){const o=(i.selected?t.green(n.radioOn):n.radioOff)+" "+s+" ";let a,l;return i.disabled?a=e===r?t.gray().underline(i.title):t.strikethrough().gray(i.title):(a=e===r?t.cyan().underline(i.title):i.title,e===r&&i.description&&(l=` - ${i.description}`,(o.length+a.length+l.length>=this.out.columns||i.description.split(/\r?\n/).length>1)&&(l="\n"+h(i.description,{margin:o.length,width:this.out.columns})))),o+a+t.gray(l||"")}paginateOptions(e){if(0===e.length)return t.red("No matches for this query.");let i,r=a(this.cursor,e.length,this.optionsPerPage),s=r.startIndex,o=r.endIndex,h=[];for(let t=s;t<o;t++)i=t===s&&s>0?n.arrowUp:t===o-1&&o<e.length?n.arrowDown:" ",h.push(this.renderOption(this.cursor,e[t],t,i));return"\n"+h.join("\n")}renderOptions(t){return this.done?"":this.paginateOptions(t)}renderDoneOrInstructions(){if(this.done)return this.value.filter((t=>t.selected)).map((t=>t.title)).join(", ");const e=[t.gray(this.hint),this.renderInstructions()];return this.value[this.cursor].disabled&&e.push(t.yellow(this.warn)),e.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(e.hide),super.render();let i=[o.symbol(this.done,this.aborted),t.bold(this.msg),o.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(i+=t.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),i+=this.renderOptions(this.value),this.out.write(this.clear+i),this.clear=s(i,this.out.columns)}},ct}function Zt(){if(ft)return dt;function t(t,e,i,r,s,n,o){try{var h=t[n](o),a=h.value}catch(t){return void i(t)}h.done?e(a):Promise.resolve(a).then(r,s)}ft=1;const e=Tt(),i=_t(),r=Mt(),s=r.erase,n=r.cursor,o=Ft(),h=o.style,a=o.clear,l=o.figures,c=o.wrap,u=o.entriesToDisplay,d=(t,e)=>t[e]&&(t[e].value||t[e].title||t[e]),f=(t,e)=>t[e]&&(t[e].title||t[e].value||t[e]);return dt=class extends i{constructor(t={}){super(t),this.msg=t.message,this.suggest=t.suggest,this.choices=t.choices,this.initial="number"==typeof t.initial?t.initial:((t,e)=>{const i=t.findIndex((t=>t.value===e||t.title===e));return i>-1?i:void 0})(t.choices,t.initial),this.select=this.initial||t.cursor||0,this.i18n={noMatches:t.noMatches||"no matches found"},this.fallback=t.fallback||this.initial,this.clearFirst=t.clearFirst||!1,this.suggestions=[],this.input="",this.limit=t.limit||10,this.cursor=0,this.transform=h.render(t.style),this.scale=this.transform.scale,this.render=this.render.bind(this),this.complete=this.complete.bind(this),this.clear=a("",this.out.columns),this.complete(this.render),this.render()}set fallback(t){this._fb=Number.isSafeInteger(parseInt(t))?parseInt(t):t}get fallback(){let t;return"number"==typeof this._fb?t=this.choices[this._fb]:"string"==typeof this._fb&&(t={title:this._fb}),t||this._fb||{title:this.i18n.noMatches}}moveSelect(t){this.select=t,this.suggestions.length>0?this.value=d(this.suggestions,t):this.value=this.fallback.value,this.fire()}complete(e){var i,r=this;return(i=function*(){const t=r.completing=r.suggest(r.input,r.choices),i=yield t;if(r.completing!==t)return;r.suggestions=i.map(((t,e,i)=>({title:f(i,e),value:d(i,e),description:t.description}))),r.completing=!1;const s=Math.max(i.length-1,0);r.moveSelect(Math.min(s,r.select)),e&&e()},function(){var e=this,r=arguments;return new Promise((function(s,n){var o=i.apply(e,r);function h(e){t(o,s,n,h,a,"next",e)}function a(e){t(o,s,n,h,a,"throw",e)}h(void 0)}))})()}reset(){this.input="",this.complete((()=>{this.moveSelect(void 0!==this.initial?this.initial:0),this.render()})),this.render()}exit(){this.clearFirst&&this.input.length>0?this.reset():(this.done=this.exited=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close())}abort(){this.done=this.aborted=!0,this.exited=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.done=!0,this.aborted=this.exited=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}_(t,e){let i=this.input.slice(0,this.cursor),r=this.input.slice(this.cursor);this.input=`${i}${t}${r}`,this.cursor=i.length+1,this.complete(this.render),this.render()}delete(){if(0===this.cursor)return this.bell();let t=this.input.slice(0,this.cursor-1),e=this.input.slice(this.cursor);this.input=`${t}${e}`,this.complete(this.render),this.cursor=this.cursor-1,this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();let t=this.input.slice(0,this.cursor),e=this.input.slice(this.cursor+1);this.input=`${t}${e}`,this.complete(this.render),this.render()}first(){this.moveSelect(0),this.render()}last(){this.moveSelect(this.suggestions.length-1),this.render()}up(){0===this.select?this.moveSelect(this.suggestions.length-1):this.moveSelect(this.select-1),this.render()}down(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}next(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}nextPage(){this.moveSelect(Math.min(this.select+this.limit,this.suggestions.length-1)),this.render()}prevPage(){this.moveSelect(Math.max(this.select-this.limit,0)),this.render()}left(){if(this.cursor<=0)return this.bell();this.cursor=this.cursor-1,this.render()}right(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();this.cursor=this.cursor+1,this.render()}renderOption(t,i,r,s){let n,o=r?l.arrowUp:s?l.arrowDown:" ",h=i?e.cyan().underline(t.title):t.title;return o=(i?e.cyan(l.pointer)+" ":"  ")+o,t.description&&(n=` - ${t.description}`,(o.length+h.length+n.length>=this.out.columns||t.description.split(/\r?\n/).length>1)&&(n="\n"+c(t.description,{margin:3,width:this.out.columns}))),o+" "+h+e.gray(n||"")}render(){if(this.closed)return;this.firstRender?this.out.write(n.hide):this.out.write(a(this.outputText,this.out.columns)),super.render();let t=u(this.select,this.choices.length,this.limit),i=t.startIndex,r=t.endIndex;if(this.outputText=[h.symbol(this.done,this.aborted,this.exited),e.bold(this.msg),h.delimiter(this.completing),this.done&&this.suggestions[this.select]?this.suggestions[this.select].title:this.rendered=this.transform.render(this.input)].join(" "),!this.done){const t=this.suggestions.slice(i,r).map(((t,e)=>this.renderOption(t,this.select===e+i,0===e&&i>0,e+i===r-1&&r<this.choices.length))).join("\n");this.outputText+="\n"+(t||e.gray(this.fallback.title))}this.out.write(s.line+n.to(0)+this.outputText)}},dt}function Xt(){if(mt)return pt;mt=1;const t=Tt(),e=Mt().cursor,i=Kt(),r=Ft(),s=r.clear,n=r.style,o=r.figures;return pt=class extends i{constructor(t={}){t.overrideRender=!0,super(t),this.inputValue="",this.clear=s("",this.out.columns),this.filteredOptions=this.value,this.render()}last(){this.cursor=this.filteredOptions.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.filteredOptions.length,this.render()}up(){0===this.cursor?this.cursor=this.filteredOptions.length-1:this.cursor--,this.render()}down(){this.cursor===this.filteredOptions.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.filteredOptions[this.cursor].selected=!1,this.render()}right(){if(this.value.filter((t=>t.selected)).length>=this.maxChoices)return this.bell();this.filteredOptions[this.cursor].selected=!0,this.render()}delete(){this.inputValue.length&&(this.inputValue=this.inputValue.substr(0,this.inputValue.length-1),this.updateFilteredOptions())}updateFilteredOptions(){const t=this.filteredOptions[this.cursor];this.filteredOptions=this.value.filter((t=>!this.inputValue||(!("string"!=typeof t.title||!t.title.toLowerCase().includes(this.inputValue.toLowerCase()))||!("string"!=typeof t.value||!t.value.toLowerCase().includes(this.inputValue.toLowerCase())))));const e=this.filteredOptions.findIndex((e=>e===t));this.cursor=e<0?0:e,this.render()}handleSpaceToggle(){const t=this.filteredOptions[this.cursor];if(t.selected)t.selected=!1,this.render();else{if(t.disabled||this.value.filter((t=>t.selected)).length>=this.maxChoices)return this.bell();t.selected=!0,this.render()}}handleInputChange(t){this.inputValue=this.inputValue+t,this.updateFilteredOptions()}_(t,e){" "===t?this.handleSpaceToggle():this.handleInputChange(t)}renderInstructions(){return void 0===this.instructions||this.instructions?"string"==typeof this.instructions?this.instructions:`\nInstructions:\n    ${o.arrowUp}/${o.arrowDown}: Highlight option\n    ${o.arrowLeft}/${o.arrowRight}/[space]: Toggle selection\n    [a,b,c]/delete: Filter choices\n    enter/return: Complete answer\n`:""}renderCurrentInput(){return`\nFiltered results for: ${this.inputValue?this.inputValue:t.gray("Enter something to filter")}\n`}renderOption(e,i,r){let s;return s=i.disabled?e===r?t.gray().underline(i.title):t.strikethrough().gray(i.title):e===r?t.cyan().underline(i.title):i.title,(i.selected?t.green(o.radioOn):o.radioOff)+"  "+s}renderDoneOrInstructions(){if(this.done)return this.value.filter((t=>t.selected)).map((t=>t.title)).join(", ");const e=[t.gray(this.hint),this.renderInstructions(),this.renderCurrentInput()];return this.filteredOptions.length&&this.filteredOptions[this.cursor].disabled&&e.push(t.yellow(this.warn)),e.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(e.hide),super.render();let i=[n.symbol(this.done,this.aborted),t.bold(this.msg),n.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(i+=t.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),i+=this.renderOptions(this.filteredOptions),this.out.write(this.clear+i),this.clear=s(i,this.out.columns)}},pt}function Qt(){if(yt)return gt;yt=1;const t=Tt(),e=_t(),i=Ft(),r=i.style,s=i.clear,n=Mt(),o=n.erase,h=n.cursor;return gt=class extends e{constructor(t={}){super(t),this.msg=t.message,this.value=t.initial,this.initialValue=!!t.initial,this.yesMsg=t.yes||"yes",this.yesOption=t.yesOption||"(Y/n)",this.noMsg=t.no||"no",this.noOption=t.noOption||"(y/N)",this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.value=this.value||!1,this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}_(t,e){return"y"===t.toLowerCase()?(this.value=!0,this.submit()):"n"===t.toLowerCase()?(this.value=!1,this.submit()):this.bell()}render(){this.closed||(this.firstRender?this.out.write(h.hide):this.out.write(s(this.outputText,this.out.columns)),super.render(),this.outputText=[r.symbol(this.done,this.aborted),t.bold(this.msg),r.delimiter(this.done),this.done?this.value?this.yesMsg:this.noMsg:t.gray(this.initialValue?this.yesOption:this.noOption)].join(" "),this.out.write(o.line+h.to(0)+this.outputText))}}}function te(){return wt||(wt=1,function(t){const e=Pt,i=bt?vt:(bt=1,vt={TextPrompt:Rt(),SelectPrompt:At(),TogglePrompt:Lt(),DatePrompt:zt(),NumberPrompt:Gt(),MultiselectPrompt:Kt(),AutocompletePrompt:Zt(),AutocompleteMultiselectPrompt:Xt(),ConfirmPrompt:Qt()}),r=t=>t;function s(t,e,s={}){return new Promise(((n,o)=>{const h=new i[t](e),a=s.onAbort||r,l=s.onSubmit||r,c=s.onExit||r;h.on("state",e.onState||r),h.on("submit",(t=>n(l(t)))),h.on("exit",(t=>n(c(t)))),h.on("abort",(t=>o(a(t))))}))}e.text=t=>s("TextPrompt",t),e.password=t=>(t.style="password",e.text(t)),e.invisible=t=>(t.style="invisible",e.text(t)),e.number=t=>s("NumberPrompt",t),e.date=t=>s("DatePrompt",t),e.confirm=t=>s("ConfirmPrompt",t),e.list=t=>{const e=t.separator||",";return s("TextPrompt",t,{onSubmit:t=>t.split(e).map((t=>t.trim()))})},e.toggle=t=>s("TogglePrompt",t),e.select=t=>s("SelectPrompt",t),e.multiselect=t=>{t.choices=[].concat(t.choices||[]);const e=t=>t.filter((t=>t.selected)).map((t=>t.value));return s("MultiselectPrompt",t,{onAbort:e,onSubmit:e})},e.autocompleteMultiselect=t=>{t.choices=[].concat(t.choices||[]);const e=t=>t.filter((t=>t.selected)).map((t=>t.value));return s("AutocompleteMultiselectPrompt",t,{onAbort:e,onSubmit:e})};const n=(t,e)=>Promise.resolve(e.filter((e=>e.title.slice(0,t.length).toLowerCase()===t.toLowerCase())));e.autocomplete=t=>(t.suggest=t.suggest||n,t.choices=[].concat(t.choices||[]),s("AutocompletePrompt",t))}()),Pt}var ee,ie,re,se,ne,oe,he,ae,le,ce,ue,de,fe,pe,me,ge,ye,ve,be,we,Se,xe,Oe,ke,Ee,Pe,Te,$e,Me,Ce,De,je,Ie,Fe,_e,Re,Ae,Le,Ne,Ye,Ve,Ue,He,Je,We,Be,qe,ze,Ge,Ke,Ze,Xe,Qe,ti,ei,ii,ri,si,ni,oi,hi,ai,li,ci={};function ui(){return se?re:(se=1,re=t=>{const e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))"].join("|"),i=new RegExp(e,"g");return"string"==typeof t?t.replace(i,""):t})}function di(){if(oe)return ne;oe=1;const t=ui(),{erase:e,cursor:i}=Mt();return ne=function(r,s){if(!s)return e.line+i.to(0);let n=0;const o=r.split(/\r?\n/);for(let e of o)n+=1+Math.floor(Math.max([...t(e)].length-1,0)/s);return e.lines(n)},ne}function fi(){if(ae)return he;ae=1;const t={arrowUp:"↑",arrowDown:"↓",arrowLeft:"←",arrowRight:"→",radioOn:"◉",radioOff:"◯",tick:"✔",cross:"✖",ellipsis:"…",pointerSmall:"›",line:"─",pointer:"❯"},e={arrowUp:t.arrowUp,arrowDown:t.arrowDown,arrowLeft:t.arrowLeft,arrowRight:t.arrowRight,radioOn:"(*)",radioOff:"( )",tick:"√",cross:"×",ellipsis:"...",pointerSmall:"»",line:"─",pointer:">"},i="win32"===process.platform?e:t;return he=i}function pi(){if(ce)return le;ce=1;const t=Tt(),e=fi(),i=Object.freeze({password:{scale:1,render:t=>"*".repeat(t.length)},emoji:{scale:2,render:t=>"😃".repeat(t.length)},invisible:{scale:0,render:t=>""},default:{scale:1,render:t=>`${t}`}}),r=Object.freeze({aborted:t.red(e.cross),done:t.green(e.tick),exited:t.yellow(e.cross),default:t.cyan("?")});return le={styles:i,render:t=>i[t]||i.default,symbols:r,symbol:(t,e,i)=>e?r.aborted:i?r.exited:t?r.done:r.default,delimiter:i=>t.gray(i?e.ellipsis:e.pointerSmall),item:(i,r)=>t.gray(i?r?e.pointerSmall:"+":e.line)}}function mi(){if(de)return ue;de=1;const t=ui();return ue=function(e,i){let r=String(t(e)||"").split(/\r?\n/);return i?r.map((t=>Math.ceil(t.length/i))).reduce(((t,e)=>t+e)):r.length}}function gi(){return ve?ye:(ve=1,ye={action:ie?ee:(ie=1,ee=(t,e)=>{if(!t.meta||"escape"===t.name){if(t.ctrl){if("a"===t.name)return"first";if("c"===t.name)return"abort";if("d"===t.name)return"abort";if("e"===t.name)return"last";if("g"===t.name)return"reset"}if(e){if("j"===t.name)return"down";if("k"===t.name)return"up"}return"return"===t.name||"enter"===t.name?"submit":"backspace"===t.name?"delete":"delete"===t.name?"deleteForward":"abort"===t.name?"abort":"escape"===t.name?"exit":"tab"===t.name?"next":"pagedown"===t.name?"nextPage":"pageup"===t.name?"prevPage":"home"===t.name?"home":"end"===t.name?"end":"up"===t.name?"up":"down"===t.name?"down":"right"===t.name?"right":"left"===t.name&&"left"}}),clear:di(),style:pi(),strip:ui(),figures:fi(),lines:mi(),wrap:pe?fe:(pe=1,fe=(t,e={})=>{const i=Number.isSafeInteger(parseInt(e.margin))?new Array(parseInt(e.margin)).fill(" ").join(""):e.margin||"",r=e.width;return(t||"").split(/\r?\n/g).map((t=>t.split(/\s+/g).reduce(((t,e)=>(e.length+i.length>=r||t[t.length-1].length+e.length+1<r?t[t.length-1]+=` ${e}`:t.push(`${i}${e}`),t)),[i]).join("\n"))).join("\n")}),entriesToDisplay:ge?me:(ge=1,me=(t,e,i)=>{i=i||e;let r=Math.min(e-i,t-Math.floor(i/2));return r<0&&(r=0),{startIndex:r,endIndex:Math.min(r+i,e)}})})}function yi(){if(we)return be;we=1;const t=i,{action:e}=gi(),s=r,{beep:n,cursor:o}=Mt(),h=Tt();return be=class extends s{constructor(i={}){super(),this.firstRender=!0,this.in=i.stdin||process.stdin,this.out=i.stdout||process.stdout,this.onRender=(i.onRender||(()=>{})).bind(this);const r=t.createInterface({input:this.in,escapeCodeTimeout:50});t.emitKeypressEvents(this.in,r),this.in.isTTY&&this.in.setRawMode(!0);const s=["SelectPrompt","MultiselectPrompt"].indexOf(this.constructor.name)>-1,n=(t,i)=>{let r=e(i,s);!1===r?this._&&this._(t,i):"function"==typeof this[r]?this[r](i):this.bell()};this.close=()=>{this.out.write(o.show),this.in.removeListener("keypress",n),this.in.isTTY&&this.in.setRawMode(!1),r.close(),this.emit(this.aborted?"abort":this.exited?"exit":"submit",this.value),this.closed=!0},this.in.on("keypress",n)}fire(){this.emit("state",{value:this.value,aborted:!!this.aborted,exited:!!this.exited})}bell(){this.out.write(n)}render(){this.onRender(h),this.firstRender&&(this.firstRender=!1)}}}function vi(){if(xe)return Se;xe=1;const t=Tt(),e=yi(),{erase:i,cursor:r}=Mt(),{style:s,clear:n,lines:o,figures:h}=gi();return Se=class extends e{constructor(t={}){super(t),this.transform=s.render(t.style),this.scale=this.transform.scale,this.msg=t.message,this.initial=t.initial||"",this.validator=t.validate||(()=>!0),this.value="",this.errorMsg=t.error||"Please Enter A Valid Value",this.cursor=Number(!!this.initial),this.cursorOffset=0,this.clear=n("",this.out.columns),this.render()}set value(e){!e&&this.initial?(this.placeholder=!0,this.rendered=t.gray(this.transform.render(this.initial))):(this.placeholder=!1,this.rendered=this.transform.render(e)),this._value=e,this.fire()}get value(){return this._value}reset(){this.value="",this.cursor=Number(!!this.initial),this.cursorOffset=0,this.fire(),this.render()}exit(){this.abort()}abort(){this.value=this.value||this.initial,this.done=this.aborted=!0,this.error=!1,this.red=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}async validate(){let t=await this.validator(this.value);"string"==typeof t&&(this.errorMsg=t,t=!1),this.error=!t}async submit(){if(this.value=this.value||this.initial,this.cursorOffset=0,this.cursor=this.rendered.length,await this.validate(),this.error)return this.red=!0,this.fire(),void this.render();this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}next(){if(!this.placeholder)return this.bell();this.value=this.initial,this.cursor=this.rendered.length,this.fire(),this.render()}moveCursor(t){this.placeholder||(this.cursor=this.cursor+t,this.cursorOffset+=t)}_(t,e){let i=this.value.slice(0,this.cursor),r=this.value.slice(this.cursor);this.value=`${i}${t}${r}`,this.red=!1,this.cursor=this.placeholder?0:i.length+1,this.render()}delete(){if(this.isCursorAtStart())return this.bell();let t=this.value.slice(0,this.cursor-1),e=this.value.slice(this.cursor);this.value=`${t}${e}`,this.red=!1,this.isCursorAtStart()?this.cursorOffset=0:(this.cursorOffset++,this.moveCursor(-1)),this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();let t=this.value.slice(0,this.cursor),e=this.value.slice(this.cursor+1);this.value=`${t}${e}`,this.red=!1,this.isCursorAtEnd()?this.cursorOffset=0:this.cursorOffset++,this.render()}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length,this.render()}left(){if(this.cursor<=0||this.placeholder)return this.bell();this.moveCursor(-1),this.render()}right(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();this.moveCursor(1),this.render()}isCursorAtStart(){return 0===this.cursor||this.placeholder&&1===this.cursor}isCursorAtEnd(){return this.cursor===this.rendered.length||this.placeholder&&this.cursor===this.rendered.length+1}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(r.down(o(this.outputError,this.out.columns)-1)+n(this.outputError,this.out.columns)),this.out.write(n(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[s.symbol(this.done,this.aborted),t.bold(this.msg),s.delimiter(this.done),this.red?t.red(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split("\n").reduce(((e,i,r)=>e+`\n${r?" ":h.pointerSmall} ${t.red().italic(i)}`),"")),this.out.write(i.line+r.to(0)+this.outputText+r.save+this.outputError+r.restore+r.move(this.cursorOffset,0)))}}}function bi(){if(ke)return Oe;ke=1;const t=Tt(),e=yi(),{style:i,clear:r,figures:s,wrap:n,entriesToDisplay:o}=gi(),{cursor:h}=Mt();return Oe=class extends e{constructor(t={}){super(t),this.msg=t.message,this.hint=t.hint||"- Use arrow-keys. Return to submit.",this.warn=t.warn||"- This option is disabled",this.cursor=t.initial||0,this.choices=t.choices.map(((t,e)=>("string"==typeof t&&(t={title:t,value:e}),{title:t&&(t.title||t.value||t),value:t&&(void 0===t.value?e:t.value),description:t&&t.description,selected:t&&t.selected,disabled:t&&t.disabled}))),this.optionsPerPage=t.optionsPerPage||10,this.value=(this.choices[this.cursor]||{}).value,this.clear=r("",this.out.columns),this.render()}moveCursor(t){this.cursor=t,this.value=this.choices[t].value,this.fire()}reset(){this.moveCursor(0),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.selection.disabled?this.bell():(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close())}first(){this.moveCursor(0),this.render()}last(){this.moveCursor(this.choices.length-1),this.render()}up(){0===this.cursor?this.moveCursor(this.choices.length-1):this.moveCursor(this.cursor-1),this.render()}down(){this.cursor===this.choices.length-1?this.moveCursor(0):this.moveCursor(this.cursor+1),this.render()}next(){this.moveCursor((this.cursor+1)%this.choices.length),this.render()}_(t,e){if(" "===t)return this.submit()}get selection(){return this.choices[this.cursor]}render(){if(this.closed)return;this.firstRender?this.out.write(h.hide):this.out.write(r(this.outputText,this.out.columns)),super.render();let{startIndex:e,endIndex:a}=o(this.cursor,this.choices.length,this.optionsPerPage);if(this.outputText=[i.symbol(this.done,this.aborted),t.bold(this.msg),i.delimiter(!1),this.done?this.selection.title:this.selection.disabled?t.yellow(this.warn):t.gray(this.hint)].join(" "),!this.done){this.outputText+="\n";for(let i=e;i<a;i++){let r,o,h="",l=this.choices[i];o=i===e&&e>0?s.arrowUp:i===a-1&&a<this.choices.length?s.arrowDown:" ",l.disabled?(r=this.cursor===i?t.gray().underline(l.title):t.strikethrough().gray(l.title),o=(this.cursor===i?t.bold().gray(s.pointer)+" ":"  ")+o):(r=this.cursor===i?t.cyan().underline(l.title):l.title,o=(this.cursor===i?t.cyan(s.pointer)+" ":"  ")+o,l.description&&this.cursor===i&&(h=` - ${l.description}`,(o.length+r.length+h.length>=this.out.columns||l.description.split(/\r?\n/).length>1)&&(h="\n"+n(l.description,{margin:3,width:this.out.columns})))),this.outputText+=`${o} ${r}${t.gray(h)}\n`}}this.out.write(this.outputText)}}}function wi(){if(Pe)return Ee;Pe=1;const t=Tt(),e=yi(),{style:i,clear:r}=gi(),{cursor:s,erase:n}=Mt();return Ee=class extends e{constructor(t={}){super(t),this.msg=t.message,this.value=!!t.initial,this.active=t.active||"on",this.inactive=t.inactive||"off",this.initialValue=this.value,this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}deactivate(){if(!1===this.value)return this.bell();this.value=!1,this.render()}activate(){if(!0===this.value)return this.bell();this.value=!0,this.render()}delete(){this.deactivate()}left(){this.deactivate()}right(){this.activate()}down(){this.deactivate()}up(){this.activate()}next(){this.value=!this.value,this.fire(),this.render()}_(t,e){if(" "===t)this.value=!this.value;else if("1"===t)this.value=!0;else{if("0"!==t)return this.bell();this.value=!1}this.render()}render(){this.closed||(this.firstRender?this.out.write(s.hide):this.out.write(r(this.outputText,this.out.columns)),super.render(),this.outputText=[i.symbol(this.done,this.aborted),t.bold(this.msg),i.delimiter(this.done),this.value?this.inactive:t.cyan().underline(this.inactive),t.gray("/"),this.value?t.cyan().underline(this.active):this.active].join(" "),this.out.write(n.line+s.to(0)+this.outputText))}}}function Si(){if($e)return Te;$e=1;class t{constructor({token:t,date:e,parts:i,locales:r}){this.token=t,this.date=e||new Date,this.parts=i||[this],this.locales=r||{}}up(){}down(){}next(){const e=this.parts.indexOf(this);return this.parts.find(((i,r)=>r>e&&i instanceof t))}setTo(t){}prev(){let e=[].concat(this.parts).reverse();const i=e.indexOf(this);return e.find(((e,r)=>r>i&&e instanceof t))}toString(){return String(this.date)}}return Te=t}function xi(){if(Ce)return Me;Ce=1;const t=Si();return Me=class extends t{constructor(t={}){super(t)}up(){this.date.setHours((this.date.getHours()+12)%24)}down(){this.up()}toString(){let t=this.date.getHours()>12?"pm":"am";return/\A/.test(this.token)?t.toUpperCase():t}}}function Oi(){if(je)return De;je=1;const t=Si();return De=class extends t{constructor(t={}){super(t)}up(){this.date.setDate(this.date.getDate()+1)}down(){this.date.setDate(this.date.getDate()-1)}setTo(t){this.date.setDate(parseInt(t.substr(-2)))}toString(){let t=this.date.getDate(),e=this.date.getDay();return"DD"===this.token?String(t).padStart(2,"0"):"Do"===this.token?t+(i=t,1==(i%=10)?"st":2===i?"nd":3===i?"rd":"th"):"d"===this.token?e+1:"ddd"===this.token?this.locales.weekdaysShort[e]:"dddd"===this.token?this.locales.weekdays[e]:t;var i}},De}function ki(){if(Fe)return Ie;Fe=1;const t=Si();return Ie=class extends t{constructor(t={}){super(t)}up(){this.date.setHours(this.date.getHours()+1)}down(){this.date.setHours(this.date.getHours()-1)}setTo(t){this.date.setHours(parseInt(t.substr(-2)))}toString(){let t=this.date.getHours();return/h/.test(this.token)&&(t=t%12||12),this.token.length>1?String(t).padStart(2,"0"):t}}}function Ei(){if(Re)return _e;Re=1;const t=Si();return _e=class extends t{constructor(t={}){super(t)}up(){this.date.setMilliseconds(this.date.getMilliseconds()+1)}down(){this.date.setMilliseconds(this.date.getMilliseconds()-1)}setTo(t){this.date.setMilliseconds(parseInt(t.substr(-this.token.length)))}toString(){return String(this.date.getMilliseconds()).padStart(4,"0").substr(0,this.token.length)}}}function Pi(){if(Le)return Ae;Le=1;const t=Si();return Ae=class extends t{constructor(t={}){super(t)}up(){this.date.setMinutes(this.date.getMinutes()+1)}down(){this.date.setMinutes(this.date.getMinutes()-1)}setTo(t){this.date.setMinutes(parseInt(t.substr(-2)))}toString(){let t=this.date.getMinutes();return this.token.length>1?String(t).padStart(2,"0"):t}}}function Ti(){if(Ye)return Ne;Ye=1;const t=Si();return Ne=class extends t{constructor(t={}){super(t)}up(){this.date.setMonth(this.date.getMonth()+1)}down(){this.date.setMonth(this.date.getMonth()-1)}setTo(t){t=parseInt(t.substr(-2))-1,this.date.setMonth(t<0?0:t)}toString(){let t=this.date.getMonth(),e=this.token.length;return 2===e?String(t+1).padStart(2,"0"):3===e?this.locales.monthsShort[t]:4===e?this.locales.months[t]:String(t+1)}}}function $i(){if(Ue)return Ve;Ue=1;const t=Si();return Ve=class extends t{constructor(t={}){super(t)}up(){this.date.setSeconds(this.date.getSeconds()+1)}down(){this.date.setSeconds(this.date.getSeconds()-1)}setTo(t){this.date.setSeconds(parseInt(t.substr(-2)))}toString(){let t=this.date.getSeconds();return this.token.length>1?String(t).padStart(2,"0"):t}}}function Mi(){if(Je)return He;Je=1;const t=Si();return He=class extends t{constructor(t={}){super(t)}up(){this.date.setFullYear(this.date.getFullYear()+1)}down(){this.date.setFullYear(this.date.getFullYear()-1)}setTo(t){this.date.setFullYear(t.substr(-4))}toString(){let t=String(this.date.getFullYear()).padStart(4,"0");return 2===this.token.length?t.substr(-2):t}}}function Ci(){if(ze)return qe;ze=1;const t=Tt(),e=yi(),{style:i,clear:r,figures:s}=gi(),{erase:n,cursor:o}=Mt(),{DatePart:h,Meridiem:a,Day:l,Hours:c,Milliseconds:u,Minutes:d,Month:f,Seconds:p,Year:m}=Be?We:(Be=1,We={DatePart:Si(),Meridiem:xi(),Day:Oi(),Hours:ki(),Milliseconds:Ei(),Minutes:Pi(),Month:Ti(),Seconds:$i(),Year:Mi()}),g=/\\(.)|"((?:\\["\\]|[^"])+)"|(D[Do]?|d{3,4}|d)|(M{1,4})|(YY(?:YY)?)|([aA])|([Hh]{1,2})|(m{1,2})|(s{1,2})|(S{1,4})|./g,y={1:({token:t})=>t.replace(/\\(.)/g,"$1"),2:t=>new l(t),3:t=>new f(t),4:t=>new m(t),5:t=>new a(t),6:t=>new c(t),7:t=>new d(t),8:t=>new p(t),9:t=>new u(t)},v={months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthsShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),weekdaysShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")};return qe=class extends e{constructor(t={}){super(t),this.msg=t.message,this.cursor=0,this.typed="",this.locales=Object.assign(v,t.locales),this._date=t.initial||new Date,this.errorMsg=t.error||"Please Enter A Valid Value",this.validator=t.validate||(()=>!0),this.mask=t.mask||"YYYY-MM-DD HH:mm:ss",this.clear=r("",this.out.columns),this.render()}get value(){return this.date}get date(){return this._date}set date(t){t&&this._date.setTime(t.getTime())}set mask(t){let e;for(this.parts=[];e=g.exec(t);){let t=e.shift(),i=e.findIndex((t=>null!=t));this.parts.push(i in y?y[i]({token:e[i]||t,date:this.date,parts:this.parts,locales:this.locales}):e[i]||t)}let i=this.parts.reduce(((t,e)=>("string"==typeof e&&"string"==typeof t[t.length-1]?t[t.length-1]+=e:t.push(e),t)),[]);this.parts.splice(0),this.parts.push(...i),this.reset()}moveCursor(t){this.typed="",this.cursor=t,this.fire()}reset(){this.moveCursor(this.parts.findIndex((t=>t instanceof h))),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}async validate(){let t=await this.validator(this.value);"string"==typeof t&&(this.errorMsg=t,t=!1),this.error=!t}async submit(){if(await this.validate(),this.error)return this.color="red",this.fire(),void this.render();this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}up(){this.typed="",this.parts[this.cursor].up(),this.render()}down(){this.typed="",this.parts[this.cursor].down(),this.render()}left(){let t=this.parts[this.cursor].prev();if(null==t)return this.bell();this.moveCursor(this.parts.indexOf(t)),this.render()}right(){let t=this.parts[this.cursor].next();if(null==t)return this.bell();this.moveCursor(this.parts.indexOf(t)),this.render()}next(){let t=this.parts[this.cursor].next();this.moveCursor(t?this.parts.indexOf(t):this.parts.findIndex((t=>t instanceof h))),this.render()}_(t){/\d/.test(t)&&(this.typed+=t,this.parts[this.cursor].setTo(this.typed),this.render())}render(){this.closed||(this.firstRender?this.out.write(o.hide):this.out.write(r(this.outputText,this.out.columns)),super.render(),this.outputText=[i.symbol(this.done,this.aborted),t.bold(this.msg),i.delimiter(!1),this.parts.reduce(((e,i,r)=>e.concat(r!==this.cursor||this.done?i:t.cyan().underline(i.toString()))),[]).join("")].join(" "),this.error&&(this.outputText+=this.errorMsg.split("\n").reduce(((e,i,r)=>e+`\n${r?" ":s.pointerSmall} ${t.red().italic(i)}`),"")),this.out.write(n.line+o.to(0)+this.outputText))}}}function Di(){if(Ke)return Ge;Ke=1;const t=Tt(),e=yi(),{cursor:i,erase:r}=Mt(),{style:s,figures:n,clear:o,lines:h}=gi(),a=/[0-9]/,l=t=>void 0!==t,c=(t,e)=>{let i=Math.pow(10,e);return Math.round(t*i)/i};return Ge=class extends e{constructor(t={}){super(t),this.transform=s.render(t.style),this.msg=t.message,this.initial=l(t.initial)?t.initial:"",this.float=!!t.float,this.round=t.round||2,this.inc=t.increment||1,this.min=l(t.min)?t.min:-1/0,this.max=l(t.max)?t.max:1/0,this.errorMsg=t.error||"Please Enter A Valid Value",this.validator=t.validate||(()=>!0),this.color="cyan",this.value="",this.typed="",this.lastHit=0,this.render()}set value(e){e||0===e?(this.placeholder=!1,this.rendered=this.transform.render(`${c(e,this.round)}`),this._value=c(e,this.round)):(this.placeholder=!0,this.rendered=t.gray(this.transform.render(`${this.initial}`)),this._value=""),this.fire()}get value(){return this._value}parse(t){return this.float?parseFloat(t):parseInt(t)}valid(t){return"-"===t||"."===t&&this.float||a.test(t)}reset(){this.typed="",this.value="",this.fire(),this.render()}exit(){this.abort()}abort(){let t=this.value;this.value=""!==t?t:this.initial,this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}async validate(){let t=await this.validator(this.value);"string"==typeof t&&(this.errorMsg=t,t=!1),this.error=!t}async submit(){if(await this.validate(),this.error)return this.color="red",this.fire(),void this.render();let t=this.value;this.value=""!==t?t:this.initial,this.done=!0,this.aborted=!1,this.error=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}up(){if(this.typed="",""===this.value&&(this.value=this.min-this.inc),this.value>=this.max)return this.bell();this.value+=this.inc,this.color="cyan",this.fire(),this.render()}down(){if(this.typed="",""===this.value&&(this.value=this.min+this.inc),this.value<=this.min)return this.bell();this.value-=this.inc,this.color="cyan",this.fire(),this.render()}delete(){let t=this.value.toString();if(0===t.length)return this.bell();this.value=this.parse(t=t.slice(0,-1))||"",""!==this.value&&this.value<this.min&&(this.value=this.min),this.color="cyan",this.fire(),this.render()}next(){this.value=this.initial,this.fire(),this.render()}_(t,e){if(!this.valid(t))return this.bell();const i=Date.now();if(i-this.lastHit>1e3&&(this.typed=""),this.typed+=t,this.lastHit=i,this.color="cyan","."===t)return this.fire();this.value=Math.min(this.parse(this.typed),this.max),this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),this.fire(),this.render()}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(i.down(h(this.outputError,this.out.columns)-1)+o(this.outputError,this.out.columns)),this.out.write(o(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[s.symbol(this.done,this.aborted),t.bold(this.msg),s.delimiter(this.done),this.done&&(this.done||this.placeholder)?this.rendered:t[this.color]().underline(this.rendered)].join(" "),this.error&&(this.outputError+=this.errorMsg.split("\n").reduce(((e,i,r)=>e+`\n${r?" ":n.pointerSmall} ${t.red().italic(i)}`),"")),this.out.write(r.line+i.to(0)+this.outputText+i.save+this.outputError+i.restore))}}}function ji(){if(Xe)return Ze;Xe=1;const t=Tt(),{cursor:e}=Mt(),i=yi(),{clear:r,figures:s,style:n,wrap:o,entriesToDisplay:h}=gi();return Ze=class extends i{constructor(t={}){super(t),this.msg=t.message,this.cursor=t.cursor||0,this.scrollIndex=t.cursor||0,this.hint=t.hint||"",this.warn=t.warn||"- This option is disabled -",this.minSelected=t.min,this.showMinError=!1,this.maxChoices=t.max,this.instructions=t.instructions,this.optionsPerPage=t.optionsPerPage||10,this.value=t.choices.map(((t,e)=>("string"==typeof t&&(t={title:t,value:e}),{title:t&&(t.title||t.value||t),description:t&&t.description,value:t&&(void 0===t.value?e:t.value),selected:t&&t.selected,disabled:t&&t.disabled}))),this.clear=r("",this.out.columns),t.overrideRender||this.render()}reset(){this.value.map((t=>!t.selected)),this.cursor=0,this.fire(),this.render()}selected(){return this.value.filter((t=>t.selected))}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){const t=this.value.filter((t=>t.selected));this.minSelected&&t.length<this.minSelected?(this.showMinError=!0,this.render()):(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close())}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.value.length,this.render()}up(){0===this.cursor?this.cursor=this.value.length-1:this.cursor--,this.render()}down(){this.cursor===this.value.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.value[this.cursor].selected=!1,this.render()}right(){if(this.value.filter((t=>t.selected)).length>=this.maxChoices)return this.bell();this.value[this.cursor].selected=!0,this.render()}handleSpaceToggle(){const t=this.value[this.cursor];if(t.selected)t.selected=!1,this.render();else{if(t.disabled||this.value.filter((t=>t.selected)).length>=this.maxChoices)return this.bell();t.selected=!0,this.render()}}toggleAll(){if(void 0!==this.maxChoices||this.value[this.cursor].disabled)return this.bell();const t=!this.value[this.cursor].selected;this.value.filter((t=>!t.disabled)).forEach((e=>e.selected=t)),this.render()}_(t,e){if(" "===t)this.handleSpaceToggle();else{if("a"!==t)return this.bell();this.toggleAll()}}renderInstructions(){return void 0===this.instructions||this.instructions?"string"==typeof this.instructions?this.instructions:`\nInstructions:\n    ${s.arrowUp}/${s.arrowDown}: Highlight option\n    ${s.arrowLeft}/${s.arrowRight}/[space]: Toggle selection\n`+(void 0===this.maxChoices?"    a: Toggle all\n":"")+"    enter/return: Complete answer":""}renderOption(e,i,r,n){const h=(i.selected?t.green(s.radioOn):s.radioOff)+" "+n+" ";let a,l;return i.disabled?a=e===r?t.gray().underline(i.title):t.strikethrough().gray(i.title):(a=e===r?t.cyan().underline(i.title):i.title,e===r&&i.description&&(l=` - ${i.description}`,(h.length+a.length+l.length>=this.out.columns||i.description.split(/\r?\n/).length>1)&&(l="\n"+o(i.description,{margin:h.length,width:this.out.columns})))),h+a+t.gray(l||"")}paginateOptions(e){if(0===e.length)return t.red("No matches for this query.");let i,{startIndex:r,endIndex:n}=h(this.cursor,e.length,this.optionsPerPage),o=[];for(let t=r;t<n;t++)i=t===r&&r>0?s.arrowUp:t===n-1&&n<e.length?s.arrowDown:" ",o.push(this.renderOption(this.cursor,e[t],t,i));return"\n"+o.join("\n")}renderOptions(t){return this.done?"":this.paginateOptions(t)}renderDoneOrInstructions(){if(this.done)return this.value.filter((t=>t.selected)).map((t=>t.title)).join(", ");const e=[t.gray(this.hint),this.renderInstructions()];return this.value[this.cursor].disabled&&e.push(t.yellow(this.warn)),e.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(e.hide),super.render();let i=[n.symbol(this.done,this.aborted),t.bold(this.msg),n.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(i+=t.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),i+=this.renderOptions(this.value),this.out.write(this.clear+i),this.clear=r(i,this.out.columns)}},Ze}function Ii(){if(ti)return Qe;ti=1;const t=Tt(),e=yi(),{erase:i,cursor:r}=Mt(),{style:s,clear:n,figures:o,wrap:h,entriesToDisplay:a}=gi(),l=(t,e)=>t[e]&&(t[e].value||t[e].title||t[e]),c=(t,e)=>t[e]&&(t[e].title||t[e].value||t[e]);return Qe=class extends e{constructor(t={}){super(t),this.msg=t.message,this.suggest=t.suggest,this.choices=t.choices,this.initial="number"==typeof t.initial?t.initial:((t,e)=>{const i=t.findIndex((t=>t.value===e||t.title===e));return i>-1?i:void 0})(t.choices,t.initial),this.select=this.initial||t.cursor||0,this.i18n={noMatches:t.noMatches||"no matches found"},this.fallback=t.fallback||this.initial,this.clearFirst=t.clearFirst||!1,this.suggestions=[],this.input="",this.limit=t.limit||10,this.cursor=0,this.transform=s.render(t.style),this.scale=this.transform.scale,this.render=this.render.bind(this),this.complete=this.complete.bind(this),this.clear=n("",this.out.columns),this.complete(this.render),this.render()}set fallback(t){this._fb=Number.isSafeInteger(parseInt(t))?parseInt(t):t}get fallback(){let t;return"number"==typeof this._fb?t=this.choices[this._fb]:"string"==typeof this._fb&&(t={title:this._fb}),t||this._fb||{title:this.i18n.noMatches}}moveSelect(t){this.select=t,this.suggestions.length>0?this.value=l(this.suggestions,t):this.value=this.fallback.value,this.fire()}async complete(t){const e=this.completing=this.suggest(this.input,this.choices),i=await e;if(this.completing!==e)return;this.suggestions=i.map(((t,e,i)=>({title:c(i,e),value:l(i,e),description:t.description}))),this.completing=!1;const r=Math.max(i.length-1,0);this.moveSelect(Math.min(r,this.select)),t&&t()}reset(){this.input="",this.complete((()=>{this.moveSelect(void 0!==this.initial?this.initial:0),this.render()})),this.render()}exit(){this.clearFirst&&this.input.length>0?this.reset():(this.done=this.exited=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close())}abort(){this.done=this.aborted=!0,this.exited=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.done=!0,this.aborted=this.exited=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}_(t,e){let i=this.input.slice(0,this.cursor),r=this.input.slice(this.cursor);this.input=`${i}${t}${r}`,this.cursor=i.length+1,this.complete(this.render),this.render()}delete(){if(0===this.cursor)return this.bell();let t=this.input.slice(0,this.cursor-1),e=this.input.slice(this.cursor);this.input=`${t}${e}`,this.complete(this.render),this.cursor=this.cursor-1,this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();let t=this.input.slice(0,this.cursor),e=this.input.slice(this.cursor+1);this.input=`${t}${e}`,this.complete(this.render),this.render()}first(){this.moveSelect(0),this.render()}last(){this.moveSelect(this.suggestions.length-1),this.render()}up(){0===this.select?this.moveSelect(this.suggestions.length-1):this.moveSelect(this.select-1),this.render()}down(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}next(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}nextPage(){this.moveSelect(Math.min(this.select+this.limit,this.suggestions.length-1)),this.render()}prevPage(){this.moveSelect(Math.max(this.select-this.limit,0)),this.render()}left(){if(this.cursor<=0)return this.bell();this.cursor=this.cursor-1,this.render()}right(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();this.cursor=this.cursor+1,this.render()}renderOption(e,i,r,s){let n,a=r?o.arrowUp:s?o.arrowDown:" ",l=i?t.cyan().underline(e.title):e.title;return a=(i?t.cyan(o.pointer)+" ":"  ")+a,e.description&&(n=` - ${e.description}`,(a.length+l.length+n.length>=this.out.columns||e.description.split(/\r?\n/).length>1)&&(n="\n"+h(e.description,{margin:3,width:this.out.columns}))),a+" "+l+t.gray(n||"")}render(){if(this.closed)return;this.firstRender?this.out.write(r.hide):this.out.write(n(this.outputText,this.out.columns)),super.render();let{startIndex:e,endIndex:o}=a(this.select,this.choices.length,this.limit);if(this.outputText=[s.symbol(this.done,this.aborted,this.exited),t.bold(this.msg),s.delimiter(this.completing),this.done&&this.suggestions[this.select]?this.suggestions[this.select].title:this.rendered=this.transform.render(this.input)].join(" "),!this.done){const i=this.suggestions.slice(e,o).map(((t,i)=>this.renderOption(t,this.select===i+e,0===i&&e>0,i+e===o-1&&o<this.choices.length))).join("\n");this.outputText+="\n"+(i||t.gray(this.fallback.title))}this.out.write(i.line+r.to(0)+this.outputText)}}}function Fi(){if(ii)return ei;ii=1;const t=Tt(),{cursor:e}=Mt(),i=ji(),{clear:r,style:s,figures:n}=gi();return ei=class extends i{constructor(t={}){t.overrideRender=!0,super(t),this.inputValue="",this.clear=r("",this.out.columns),this.filteredOptions=this.value,this.render()}last(){this.cursor=this.filteredOptions.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.filteredOptions.length,this.render()}up(){0===this.cursor?this.cursor=this.filteredOptions.length-1:this.cursor--,this.render()}down(){this.cursor===this.filteredOptions.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.filteredOptions[this.cursor].selected=!1,this.render()}right(){if(this.value.filter((t=>t.selected)).length>=this.maxChoices)return this.bell();this.filteredOptions[this.cursor].selected=!0,this.render()}delete(){this.inputValue.length&&(this.inputValue=this.inputValue.substr(0,this.inputValue.length-1),this.updateFilteredOptions())}updateFilteredOptions(){const t=this.filteredOptions[this.cursor];this.filteredOptions=this.value.filter((t=>!this.inputValue||(!("string"!=typeof t.title||!t.title.toLowerCase().includes(this.inputValue.toLowerCase()))||!("string"!=typeof t.value||!t.value.toLowerCase().includes(this.inputValue.toLowerCase())))));const e=this.filteredOptions.findIndex((e=>e===t));this.cursor=e<0?0:e,this.render()}handleSpaceToggle(){const t=this.filteredOptions[this.cursor];if(t.selected)t.selected=!1,this.render();else{if(t.disabled||this.value.filter((t=>t.selected)).length>=this.maxChoices)return this.bell();t.selected=!0,this.render()}}handleInputChange(t){this.inputValue=this.inputValue+t,this.updateFilteredOptions()}_(t,e){" "===t?this.handleSpaceToggle():this.handleInputChange(t)}renderInstructions(){return void 0===this.instructions||this.instructions?"string"==typeof this.instructions?this.instructions:`\nInstructions:\n    ${n.arrowUp}/${n.arrowDown}: Highlight option\n    ${n.arrowLeft}/${n.arrowRight}/[space]: Toggle selection\n    [a,b,c]/delete: Filter choices\n    enter/return: Complete answer\n`:""}renderCurrentInput(){return`\nFiltered results for: ${this.inputValue?this.inputValue:t.gray("Enter something to filter")}\n`}renderOption(e,i,r){let s;return s=i.disabled?e===r?t.gray().underline(i.title):t.strikethrough().gray(i.title):e===r?t.cyan().underline(i.title):i.title,(i.selected?t.green(n.radioOn):n.radioOff)+"  "+s}renderDoneOrInstructions(){if(this.done)return this.value.filter((t=>t.selected)).map((t=>t.title)).join(", ");const e=[t.gray(this.hint),this.renderInstructions(),this.renderCurrentInput()];return this.filteredOptions.length&&this.filteredOptions[this.cursor].disabled&&e.push(t.yellow(this.warn)),e.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(e.hide),super.render();let i=[s.symbol(this.done,this.aborted),t.bold(this.msg),s.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(i+=t.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),i+=this.renderOptions(this.filteredOptions),this.out.write(this.clear+i),this.clear=r(i,this.out.columns)}},ei}function _i(){if(si)return ri;si=1;const t=Tt(),e=yi(),{style:i,clear:r}=gi(),{erase:s,cursor:n}=Mt();return ri=class extends e{constructor(t={}){super(t),this.msg=t.message,this.value=t.initial,this.initialValue=!!t.initial,this.yesMsg=t.yes||"yes",this.yesOption=t.yesOption||"(Y/n)",this.noMsg=t.no||"no",this.noOption=t.noOption||"(y/N)",this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.value=this.value||!1,this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}_(t,e){return"y"===t.toLowerCase()?(this.value=!0,this.submit()):"n"===t.toLowerCase()?(this.value=!1,this.submit()):this.bell()}render(){this.closed||(this.firstRender?this.out.write(n.hide):this.out.write(r(this.outputText,this.out.columns)),super.render(),this.outputText=[i.symbol(this.done,this.aborted),t.bold(this.msg),i.delimiter(this.done),this.done?this.value?this.yesMsg:this.noMsg:t.gray(this.initialValue?this.yesOption:this.noOption)].join(" "),this.out.write(s.line+n.to(0)+this.outputText))}}}function Ri(){return hi||(hi=1,function(t){const e=ci,i=oi?ni:(oi=1,ni={TextPrompt:vi(),SelectPrompt:bi(),TogglePrompt:wi(),DatePrompt:Ci(),NumberPrompt:Di(),MultiselectPrompt:ji(),AutocompletePrompt:Ii(),AutocompleteMultiselectPrompt:Fi(),ConfirmPrompt:_i()}),r=t=>t;function s(t,e,s={}){return new Promise(((n,o)=>{const h=new i[t](e),a=s.onAbort||r,l=s.onSubmit||r,c=s.onExit||r;h.on("state",e.onState||r),h.on("submit",(t=>n(l(t)))),h.on("exit",(t=>n(c(t)))),h.on("abort",(t=>o(a(t))))}))}e.text=t=>s("TextPrompt",t),e.password=t=>(t.style="password",e.text(t)),e.invisible=t=>(t.style="invisible",e.text(t)),e.number=t=>s("NumberPrompt",t),e.date=t=>s("DatePrompt",t),e.confirm=t=>s("ConfirmPrompt",t),e.list=t=>{const e=t.separator||",";return s("TextPrompt",t,{onSubmit:t=>t.split(e).map((t=>t.trim()))})},e.toggle=t=>s("TogglePrompt",t),e.select=t=>s("SelectPrompt",t),e.multiselect=t=>{t.choices=[].concat(t.choices||[]);const e=t=>t.filter((t=>t.selected)).map((t=>t.value));return s("MultiselectPrompt",t,{onAbort:e,onSubmit:e})},e.autocompleteMultiselect=t=>{t.choices=[].concat(t.choices||[]);const e=t=>t.filter((t=>t.selected)).map((t=>t.value));return s("AutocompleteMultiselectPrompt",t,{onAbort:e,onSubmit:e})};const n=(t,e)=>Promise.resolve(e.filter((e=>e.title.slice(0,t.length).toLowerCase()===t.toLowerCase())));e.autocomplete=t=>(t.suggest=t.suggest||n,t.choices=[].concat(t.choices||[]),s("AutocompletePrompt",t))}()),ci}var Ai=function(t){t=(Array.isArray(t)?t:t.split(".")).map(Number);let e=0,i=process.versions.node.split(".").map(Number);for(;e<t.length;e++){if(i[e]>t[e])return!1;if(t[e]>i[e])return!0}return!1}("8.6.0")?function(){if(xt)return St;function t(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function e(e){for(var r=1;r<arguments.length;r++){var s=null!=arguments[r]?arguments[r]:{};r%2?t(Object(s),!0).forEach((function(t){i(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):t(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function i(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function r(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"==typeof t)return s(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return s(t,e)}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var r=0,n=function(){};return{s:n,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,h=!0,a=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return h=t.done,t},e:function(t){a=!0,o=t},f:function(){try{h||null==i.return||i.return()}finally{if(a)throw o}}}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function n(t,e,i,r,s,n,o){try{var h=t[n](o),a=h.value}catch(t){return void i(t)}h.done?e(a):Promise.resolve(a).then(r,s)}function o(t){return function(){var e=this,i=arguments;return new Promise((function(r,s){var o=t.apply(e,i);function h(t){n(o,r,s,h,a,"next",t)}function a(t){n(o,r,s,h,a,"throw",t)}h(void 0)}))}}xt=1;const h=te(),a=["suggest","format","onState","validate","onRender","type"],l=()=>{};function c(){return u.apply(this,arguments)}function u(){return u=o((function*(t=[],{onSubmit:i=l,onCancel:s=l}={}){const n={},u=c._override||{};let f,p,m,g,y,v;t=[].concat(t);const b=function(){var t=o((function*(t,e,i=!1){if(i||!t.validate||!0===t.validate(e))return t.format?yield t.format(e,n):e}));return function(e,i){return t.apply(this,arguments)}}();var w,S=r(t);try{for(S.s();!(w=S.n()).done;){p=w.value;var x=p;if(g=x.name,y=x.type,"function"==typeof y&&(y=yield y(f,e({},n),p),p.type=y),y){for(let t in p){if(a.includes(t))continue;let i=p[t];p[t]="function"==typeof i?yield i(f,e({},n),v):i}if(v=p,"string"!=typeof p.message)throw new Error("prompt message is required");var O=p;if(g=O.name,y=O.type,void 0===h[y])throw new Error(`prompt type (${y}) is not defined`);if(void 0===u[p.name]||(f=yield b(p,u[p.name]),void 0===f)){try{f=c._injected?d(c._injected,p.initial):yield h[y](p),n[g]=f=yield b(p,f,!0),m=yield i(p,f,n)}catch(t){m=!(yield s(p,n))}if(m)return n}else n[g]=f}}}catch(t){S.e(t)}finally{S.f()}return n})),u.apply(this,arguments)}function d(t,e){const i=t.shift();if(i instanceof Error)throw i;return void 0===i?e:i}return St=Object.assign(c,{prompt:c,prompts:h,inject:function(t){c._injected=(c._injected||[]).concat(t)},override:function(t){c._override=Object.assign({},t)}})}():function(){if(li)return ai;li=1;const t=Ri(),e=["suggest","format","onState","validate","onRender","type"],i=()=>{};async function r(n=[],{onSubmit:o=i,onCancel:h=i}={}){const a={},l=r._override||{};let c,u,d,f,p,m;n=[].concat(n);const g=async(t,e,i=!1)=>{if(i||!t.validate||!0===t.validate(e))return t.format?await t.format(e,a):e};for(u of n)if(({name:f,type:p}=u),"function"==typeof p&&(p=await p(c,{...a},u),u.type=p),p){for(let t in u){if(e.includes(t))continue;let i=u[t];u[t]="function"==typeof i?await i(c,{...a},m):i}if(m=u,"string"!=typeof u.message)throw new Error("prompt message is required");if(({name:f,type:p}=u),void 0===t[p])throw new Error(`prompt type (${p}) is not defined`);if(void 0===l[u.name]||(c=await g(u,l[u.name]),void 0===c)){try{c=r._injected?s(r._injected,u.initial):await t[p](u),a[f]=c=await g(u,c,!0),d=await o(u,c,a)}catch(t){d=!await h(u,a)}if(d)return a}else a[f]=c}return a}function s(t,e){const i=t.shift();if(i instanceof Error)throw i;return void 0===i?e:i}return ai=Object.assign(r,{prompt:r,prompts:t,inject:function(t){r._injected=(r._injected||[]).concat(t)},override:function(t){r._override=Object.assign({},t)}})}();let Li=!0;const Ni="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};let Yi=0;if(Ni.process&&Ni.process.env&&Ni.process.stdout){const{FORCE_COLOR:t,NODE_DISABLE_COLORS:e,NO_COLOR:i,TERM:r}=Ni.process.env;Li=!e&&!i&&"0"!==t&&("1"===t||"2"===t||"3"===t||"dumb"!==r&&(!(!("CI"in Ni.process.env)||!["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE","DRONE"].some((t=>t in Ni.process.env)))||process.stdout.isTTY)),Li&&(Yi=r&&r.endsWith("-256color")?2:1)}let Vi={enabled:Li,supportLevel:Yi};function Ui(t,e,i=1){const r=`[${t}m`,s=`[${e}m`,n=new RegExp(`\\x1b\\[${e}m`,"g");return t=>Vi.enabled&&Vi.supportLevel>=i?r+(""+t).replace(n,r)+s:""+t}const Hi=Ui(1,22),Ji=Ui(31,39),Wi=Ui(32,39);function Bi(t,e,i){for(const r of Ot.readdirSync(t)){if(".git"===r)continue;const s=kt.resolve(t,r);Ot.lstatSync(s).isDirectory()?(Bi(s,e,i),e(s)):i(s)}}function qi(e){t.promises.existsSync(e)&&Bi(e,(e=>t.promises.rmdirSync(e)),(e=>t.promises.unlinkSync(e)))}const zi="Vue.js - The Progressive JavaScript Framework",Gi="[38;2;66;211;146mV[39m[38;2;66;211;146mu[39m[38;2;66;211;146me[39m[38;2;66;211;146m.[39m[38;2;66;211;146mj[39m[38;2;67;209;149ms[39m [38;2;68;206;152m-[39m [38;2;69;204;155mT[39m[38;2;70;201;158mh[39m[38;2;71;199;162me[39m [38;2;72;196;165mP[39m[38;2;73;194;168mr[39m[38;2;74;192;171mo[39m[38;2;75;189;174mg[39m[38;2;76;187;177mr[39m[38;2;77;184;180me[39m[38;2;78;182;183ms[39m[38;2;79;179;186ms[39m[38;2;80;177;190mi[39m[38;2;81;175;193mv[39m[38;2;82;172;196me[39m [38;2;83;170;199mJ[39m[38;2;83;167;202ma[39m[38;2;84;165;205mv[39m[38;2;85;162;208ma[39m[38;2;86;160;211mS[39m[38;2;87;158;215mc[39m[38;2;88;155;218mr[39m[38;2;89;153;221mi[39m[38;2;90;150;224mp[39m[38;2;91;148;227mt[39m [38;2;92;145;230mF[39m[38;2;93;143;233mr[39m[38;2;94;141;236ma[39m[38;2;95;138;239mm[39m[38;2;96;136;243me[39m[38;2;97;133;246mw[39m[38;2;98;131;249mo[39m[38;2;99;128;252mr[39m[38;2;100;126;255mk[39m";var Ki={},Zi={fromCallback:function(t){return Object.defineProperty((function(...e){if("function"!=typeof e[e.length-1])return new Promise(((i,r)=>{t.call(this,...e,((t,e)=>null!=t?r(t):i(e)))}));t.apply(this,e)}),"name",{value:t.name})},fromPromise:function(t){return Object.defineProperty((function(...e){const i=e[e.length-1];if("function"!=typeof i)return t.apply(this,e);t.apply(this,e.slice(0,-1)).then((t=>i(null,t)),i)}),"name",{value:t.name})}},Xi=s,Qi=process.cwd,tr=null,er=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return tr||(tr=Qi.call(process)),tr};try{process.cwd()}catch(t){}if("function"==typeof process.chdir){var ir=process.chdir;process.chdir=function(t){tr=null,ir.call(process,t)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,ir)}var rr=function(t){Xi.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&function(t){t.lchmod=function(e,i,r){t.open(e,Xi.O_WRONLY|Xi.O_SYMLINK,i,(function(e,s){e?r&&r(e):t.fchmod(s,i,(function(e){t.close(s,(function(t){r&&r(e||t)}))}))}))},t.lchmodSync=function(e,i){var r,s=t.openSync(e,Xi.O_WRONLY|Xi.O_SYMLINK,i),n=!0;try{r=t.fchmodSync(s,i),n=!1}finally{if(n)try{t.closeSync(s)}catch(t){}else t.closeSync(s)}return r}}(t);t.lutimes||function(t){Xi.hasOwnProperty("O_SYMLINK")&&t.futimes?(t.lutimes=function(e,i,r,s){t.open(e,Xi.O_SYMLINK,(function(e,n){e?s&&s(e):t.futimes(n,i,r,(function(e){t.close(n,(function(t){s&&s(e||t)}))}))}))},t.lutimesSync=function(e,i,r){var s,n=t.openSync(e,Xi.O_SYMLINK),o=!0;try{s=t.futimesSync(n,i,r),o=!1}finally{if(o)try{t.closeSync(n)}catch(t){}else t.closeSync(n)}return s}):t.futimes&&(t.lutimes=function(t,e,i,r){r&&process.nextTick(r)},t.lutimesSync=function(){})}(t);t.chown=r(t.chown),t.fchown=r(t.fchown),t.lchown=r(t.lchown),t.chmod=e(t.chmod),t.fchmod=e(t.fchmod),t.lchmod=e(t.lchmod),t.chownSync=s(t.chownSync),t.fchownSync=s(t.fchownSync),t.lchownSync=s(t.lchownSync),t.chmodSync=i(t.chmodSync),t.fchmodSync=i(t.fchmodSync),t.lchmodSync=i(t.lchmodSync),t.stat=n(t.stat),t.fstat=n(t.fstat),t.lstat=n(t.lstat),t.statSync=o(t.statSync),t.fstatSync=o(t.fstatSync),t.lstatSync=o(t.lstatSync),t.chmod&&!t.lchmod&&(t.lchmod=function(t,e,i){i&&process.nextTick(i)},t.lchmodSync=function(){});t.chown&&!t.lchown&&(t.lchown=function(t,e,i,r){r&&process.nextTick(r)},t.lchownSync=function(){});"win32"===er&&(t.rename="function"!=typeof t.rename?t.rename:function(e){function i(i,r,s){var n=Date.now(),o=0;e(i,r,(function h(a){if(a&&("EACCES"===a.code||"EPERM"===a.code||"EBUSY"===a.code)&&Date.now()-n<6e4)return setTimeout((function(){t.stat(r,(function(t,n){t&&"ENOENT"===t.code?e(i,r,h):s(a)}))}),o),void(o<100&&(o+=10));s&&s(a)}))}return Object.setPrototypeOf&&Object.setPrototypeOf(i,e),i}(t.rename));function e(e){return e?function(i,r,s){return e.call(t,i,r,(function(t){h(t)&&(t=null),s&&s.apply(this,arguments)}))}:e}function i(e){return e?function(i,r){try{return e.call(t,i,r)}catch(t){if(!h(t))throw t}}:e}function r(e){return e?function(i,r,s,n){return e.call(t,i,r,s,(function(t){h(t)&&(t=null),n&&n.apply(this,arguments)}))}:e}function s(e){return e?function(i,r,s){try{return e.call(t,i,r,s)}catch(t){if(!h(t))throw t}}:e}function n(e){return e?function(i,r,s){function n(t,e){e&&(e.uid<0&&(e.uid+=4294967296),e.gid<0&&(e.gid+=4294967296)),s&&s.apply(this,arguments)}return"function"==typeof r&&(s=r,r=null),r?e.call(t,i,r,n):e.call(t,i,n)}:e}function o(e){return e?function(i,r){var s=r?e.call(t,i,r):e.call(t,i);return s&&(s.uid<0&&(s.uid+=4294967296),s.gid<0&&(s.gid+=4294967296)),s}:e}function h(t){return!t||("ENOSYS"===t.code||!(process.getuid&&0===process.getuid()||"EINVAL"!==t.code&&"EPERM"!==t.code))}t.read="function"!=typeof t.read?t.read:function(e){function i(i,r,s,n,o,h){var a;if(h&&"function"==typeof h){var l=0;a=function(c,u,d){if(c&&"EAGAIN"===c.code&&l<10)return l++,e.call(t,i,r,s,n,o,a);h.apply(this,arguments)}}return e.call(t,i,r,s,n,o,a)}return Object.setPrototypeOf&&Object.setPrototypeOf(i,e),i}(t.read),t.readSync="function"!=typeof t.readSync?t.readSync:(a=t.readSync,function(e,i,r,s,n){for(var o=0;;)try{return a.call(t,e,i,r,s,n)}catch(t){if("EAGAIN"===t.code&&o<10){o++;continue}throw t}});var a};var sr=n.Stream,nr=function(t){return{ReadStream:function e(i,r){if(!(this instanceof e))return new e(i,r);sr.call(this);var s=this;this.path=i,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=65536,r=r||{};for(var n=Object.keys(r),o=0,h=n.length;o<h;o++){var a=n[o];this[a]=r[a]}this.encoding&&this.setEncoding(this.encoding);if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(void 0===this.end)this.end=1/0;else if("number"!=typeof this.end)throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(null!==this.fd)return void process.nextTick((function(){s._read()}));t.open(this.path,this.flags,this.mode,(function(t,e){if(t)return s.emit("error",t),void(s.readable=!1);s.fd=e,s.emit("open",e),s._read()}))},WriteStream:function e(i,r){if(!(this instanceof e))return new e(i,r);sr.call(this),this.path=i,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,r=r||{};for(var s=Object.keys(r),n=0,o=s.length;n<o;n++){var h=s[n];this[h]=r[h]}if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],null===this.fd&&(this._open=t.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}};var or=function(t){if(null===t||"object"!=typeof t)return t;if(t instanceof Object)var e={__proto__:hr(t)};else e=Object.create(null);return Object.getOwnPropertyNames(t).forEach((function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i))})),e},hr=Object.getPrototypeOf||function(t){return t.__proto__};var ar,lr,cr=t,ur=rr,dr=nr,fr=or,pr=o;function mr(t,e){Object.defineProperty(t,ar,{get:function(){return e}})}"function"==typeof Symbol&&"function"==typeof Symbol.for?(ar=Symbol.for("graceful-fs.queue"),lr=Symbol.for("graceful-fs.previous")):(ar="___graceful-fs.queue",lr="___graceful-fs.previous");var gr=function(){};if(pr.debuglog?gr=pr.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(gr=function(){var t=pr.format.apply(pr,arguments);t="GFS4: "+t.split(/\n/).join("\nGFS4: "),console.error(t)}),!cr[ar]){var yr=Et[ar]||[];mr(cr,yr),cr.close=function(t){function e(e,i){return t.call(cr,e,(function(t){t||xr(),"function"==typeof i&&i.apply(this,arguments)}))}return Object.defineProperty(e,lr,{value:t}),e}(cr.close),cr.closeSync=function(t){function e(e){t.apply(cr,arguments),xr()}return Object.defineProperty(e,lr,{value:t}),e}(cr.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",(function(){gr(cr[ar]),h.equal(cr[ar].length,0)}))}Et[ar]||mr(Et,cr[ar]);var vr,br=wr(fr(cr));function wr(t){ur(t),t.gracefulify=wr,t.createReadStream=function(e,i){return new t.ReadStream(e,i)},t.createWriteStream=function(e,i){return new t.WriteStream(e,i)};var e=t.readFile;t.readFile=function(t,i,r){"function"==typeof i&&(r=i,i=null);return function t(i,r,s,n){return e(i,r,(function(e){!e||"EMFILE"!==e.code&&"ENFILE"!==e.code?"function"==typeof s&&s.apply(this,arguments):Sr([t,[i,r,s],e,n||Date.now(),Date.now()])}))}(t,i,r)};var i=t.writeFile;t.writeFile=function(t,e,r,s){"function"==typeof r&&(s=r,r=null);return function t(e,r,s,n,o){return i(e,r,s,(function(i){!i||"EMFILE"!==i.code&&"ENFILE"!==i.code?"function"==typeof n&&n.apply(this,arguments):Sr([t,[e,r,s,n],i,o||Date.now(),Date.now()])}))}(t,e,r,s)};var r=t.appendFile;r&&(t.appendFile=function(t,e,i,s){"function"==typeof i&&(s=i,i=null);return function t(e,i,s,n,o){return r(e,i,s,(function(r){!r||"EMFILE"!==r.code&&"ENFILE"!==r.code?"function"==typeof n&&n.apply(this,arguments):Sr([t,[e,i,s,n],r,o||Date.now(),Date.now()])}))}(t,e,i,s)});var s=t.copyFile;s&&(t.copyFile=function(t,e,i,r){"function"==typeof i&&(r=i,i=0);return function t(e,i,r,n,o){return s(e,i,r,(function(s){!s||"EMFILE"!==s.code&&"ENFILE"!==s.code?"function"==typeof n&&n.apply(this,arguments):Sr([t,[e,i,r,n],s,o||Date.now(),Date.now()])}))}(t,e,i,r)});var n=t.readdir;t.readdir=function(t,e,i){"function"==typeof e&&(i=e,e=null);var r=o.test(process.version)?function(t,e,i,r){return n(t,s(t,e,i,r))}:function(t,e,i,r){return n(t,e,s(t,e,i,r))};return r(t,e,i);function s(t,e,i,s){return function(n,o){!n||"EMFILE"!==n.code&&"ENFILE"!==n.code?(o&&o.sort&&o.sort(),"function"==typeof i&&i.call(this,n,o)):Sr([r,[t,e,i],n,s||Date.now(),Date.now()])}}};var o=/^v[0-5]\./;if("v0.8"===process.version.substr(0,4)){var h=dr(t);d=h.ReadStream,f=h.WriteStream}var a=t.ReadStream;a&&(d.prototype=Object.create(a.prototype),d.prototype.open=function(){var t=this;m(t.path,t.flags,t.mode,(function(e,i){e?(t.autoClose&&t.destroy(),t.emit("error",e)):(t.fd=i,t.emit("open",i),t.read())}))});var l=t.WriteStream;l&&(f.prototype=Object.create(l.prototype),f.prototype.open=function(){var t=this;m(t.path,t.flags,t.mode,(function(e,i){e?(t.destroy(),t.emit("error",e)):(t.fd=i,t.emit("open",i))}))}),Object.defineProperty(t,"ReadStream",{get:function(){return d},set:function(t){d=t},enumerable:!0,configurable:!0}),Object.defineProperty(t,"WriteStream",{get:function(){return f},set:function(t){f=t},enumerable:!0,configurable:!0});var c=d;Object.defineProperty(t,"FileReadStream",{get:function(){return c},set:function(t){c=t},enumerable:!0,configurable:!0});var u=f;function d(t,e){return this instanceof d?(a.apply(this,arguments),this):d.apply(Object.create(d.prototype),arguments)}function f(t,e){return this instanceof f?(l.apply(this,arguments),this):f.apply(Object.create(f.prototype),arguments)}Object.defineProperty(t,"FileWriteStream",{get:function(){return u},set:function(t){u=t},enumerable:!0,configurable:!0});var p=t.open;function m(t,e,i,r){return"function"==typeof i&&(r=i,i=null),function t(e,i,r,s,n){return p(e,i,r,(function(o,h){!o||"EMFILE"!==o.code&&"ENFILE"!==o.code?"function"==typeof s&&s.apply(this,arguments):Sr([t,[e,i,r,s],o,n||Date.now(),Date.now()])}))}(t,e,i,r)}return t.open=m,t}function Sr(t){gr("ENQUEUE",t[0].name,t[1]),cr[ar].push(t),Or()}function xr(){for(var t=Date.now(),e=0;e<cr[ar].length;++e)cr[ar][e].length>2&&(cr[ar][e][3]=t,cr[ar][e][4]=t);Or()}function Or(){if(clearTimeout(vr),vr=void 0,0!==cr[ar].length){var t=cr[ar].shift(),e=t[0],i=t[1],r=t[2],s=t[3],n=t[4];if(void 0===s)gr("RETRY",e.name,i),e.apply(null,i);else if(Date.now()-s>=6e4){gr("TIMEOUT",e.name,i);var o=i.pop();"function"==typeof o&&o.call(null,r)}else{var h=Date.now()-n,a=Math.max(n-s,1);h>=Math.min(1.2*a,100)?(gr("RETRY",e.name,i),e.apply(null,i.concat([s]))):cr[ar].push(t)}void 0===vr&&(vr=setTimeout(Or,0))}}process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!cr.__patched&&(br=wr(cr),cr.__patched=!0),function(t){const e=Zi.fromCallback,i=br,r=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter((t=>"function"==typeof i[t]));Object.assign(t,i),r.forEach((r=>{t[r]=e(i[r])})),t.exists=function(t,e){return"function"==typeof e?i.exists(t,e):new Promise((e=>i.exists(t,e)))},t.read=function(t,e,r,s,n,o){return"function"==typeof o?i.read(t,e,r,s,n,o):new Promise(((o,h)=>{i.read(t,e,r,s,n,((t,e,i)=>{if(t)return h(t);o({bytesRead:e,buffer:i})}))}))},t.write=function(t,e,...r){return"function"==typeof r[r.length-1]?i.write(t,e,...r):new Promise(((s,n)=>{i.write(t,e,...r,((t,e,i)=>{if(t)return n(t);s({bytesWritten:e,buffer:i})}))}))},t.readv=function(t,e,...r){return"function"==typeof r[r.length-1]?i.readv(t,e,...r):new Promise(((s,n)=>{i.readv(t,e,...r,((t,e,i)=>{if(t)return n(t);s({bytesRead:e,buffers:i})}))}))},t.writev=function(t,e,...r){return"function"==typeof r[r.length-1]?i.writev(t,e,...r):new Promise(((s,n)=>{i.writev(t,e,...r,((t,e,i)=>{if(t)return n(t);s({bytesWritten:e,buffers:i})}))}))},"function"==typeof i.realpath.native?t.realpath.native=e(i.realpath.native):process.emitWarning("fs.realpath.native is not a function. Is fs being monkey-patched?","Warning","fs-extra-WARN0003")}(Ki);var kr={},Er={};const Pr=e;Er.checkPath=function(t){if("win32"===process.platform){if(/[<>:"|?*]/.test(t.replace(Pr.parse(t).root,""))){const e=new Error(`Path contains invalid characters: ${t}`);throw e.code="EINVAL",e}}};const Tr=Ki,{checkPath:$r}=Er,Mr=t=>"number"==typeof t?t:{mode:511,...t}.mode;kr.makeDir=async(t,e)=>($r(t),Tr.mkdir(t,{mode:Mr(e),recursive:!0})),kr.makeDirSync=(t,e)=>($r(t),Tr.mkdirSync(t,{mode:Mr(e),recursive:!0}));const Cr=Zi.fromPromise,{makeDir:Dr,makeDirSync:jr}=kr,Ir=Cr(Dr);var Fr={mkdirs:Ir,mkdirsSync:jr,mkdirp:Ir,mkdirpSync:jr,ensureDir:Ir,ensureDirSync:jr};const _r=Zi.fromPromise,Rr=Ki;var Ar={pathExists:_r((function(t){return Rr.access(t).then((()=>!0)).catch((()=>!1))})),pathExistsSync:Rr.existsSync};const Lr=br;var Nr=function(t,e,i,r){Lr.open(t,"r+",((t,s)=>{if(t)return r(t);Lr.futimes(s,e,i,(t=>{Lr.close(s,(e=>{r&&r(t||e)}))}))}))},Yr=function(t,e,i){const r=Lr.openSync(t,"r+");return Lr.futimesSync(r,e,i),Lr.closeSync(r)};const Vr=Ki,Ur=e,Hr=o;function Jr(t,e,i){const r=i.dereference?t=>Vr.stat(t,{bigint:!0}):t=>Vr.lstat(t,{bigint:!0});return Promise.all([r(t),r(e).catch((t=>{if("ENOENT"===t.code)return null;throw t}))]).then((([t,e])=>({srcStat:t,destStat:e})))}function Wr(t,e){return e.ino&&e.dev&&e.ino===t.ino&&e.dev===t.dev}function Br(t,e){const i=Ur.resolve(t).split(Ur.sep).filter((t=>t)),r=Ur.resolve(e).split(Ur.sep).filter((t=>t));return i.reduce(((t,e,i)=>t&&r[i]===e),!0)}function qr(t,e,i){return`Cannot ${i} '${t}' to a subdirectory of itself, '${e}'.`}var zr={checkPaths:function(t,e,i,r,s){Hr.callbackify(Jr)(t,e,r,((r,n)=>{if(r)return s(r);const{srcStat:o,destStat:h}=n;if(h){if(Wr(o,h)){const r=Ur.basename(t),n=Ur.basename(e);return"move"===i&&r!==n&&r.toLowerCase()===n.toLowerCase()?s(null,{srcStat:o,destStat:h,isChangingCase:!0}):s(new Error("Source and destination must not be the same."))}if(o.isDirectory()&&!h.isDirectory())return s(new Error(`Cannot overwrite non-directory '${e}' with directory '${t}'.`));if(!o.isDirectory()&&h.isDirectory())return s(new Error(`Cannot overwrite directory '${e}' with non-directory '${t}'.`))}return o.isDirectory()&&Br(t,e)?s(new Error(qr(t,e,i))):s(null,{srcStat:o,destStat:h})}))},checkPathsSync:function(t,e,i,r){const{srcStat:s,destStat:n}=function(t,e,i){let r;const s=i.dereference?t=>Vr.statSync(t,{bigint:!0}):t=>Vr.lstatSync(t,{bigint:!0}),n=s(t);try{r=s(e)}catch(t){if("ENOENT"===t.code)return{srcStat:n,destStat:null};throw t}return{srcStat:n,destStat:r}}(t,e,r);if(n){if(Wr(s,n)){const r=Ur.basename(t),o=Ur.basename(e);if("move"===i&&r!==o&&r.toLowerCase()===o.toLowerCase())return{srcStat:s,destStat:n,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(s.isDirectory()&&!n.isDirectory())throw new Error(`Cannot overwrite non-directory '${e}' with directory '${t}'.`);if(!s.isDirectory()&&n.isDirectory())throw new Error(`Cannot overwrite directory '${e}' with non-directory '${t}'.`)}if(s.isDirectory()&&Br(t,e))throw new Error(qr(t,e,i));return{srcStat:s,destStat:n}},checkParentPaths:function t(e,i,r,s,n){const o=Ur.resolve(Ur.dirname(e)),h=Ur.resolve(Ur.dirname(r));if(h===o||h===Ur.parse(h).root)return n();Vr.stat(h,{bigint:!0},((o,a)=>o?"ENOENT"===o.code?n():n(o):Wr(i,a)?n(new Error(qr(e,r,s))):t(e,i,h,s,n)))},checkParentPathsSync:function t(e,i,r,s){const n=Ur.resolve(Ur.dirname(e)),o=Ur.resolve(Ur.dirname(r));if(o===n||o===Ur.parse(o).root)return;let h;try{h=Vr.statSync(o,{bigint:!0})}catch(t){if("ENOENT"===t.code)return;throw t}if(Wr(i,h))throw new Error(qr(e,r,s));return t(e,i,o,s)},isSrcSubdir:Br,areIdentical:Wr};const Gr=br,Kr=e,Zr=Fr.mkdirs,Xr=Ar.pathExists,Qr=Nr,ts=zr;function es(t,e,i,r){if(!i.filter)return r(null,!0);Promise.resolve(i.filter(t,e)).then((t=>r(null,t)),(t=>r(t)))}function is(t,e,i,r,s){(r.dereference?Gr.stat:Gr.lstat)(e,((n,o)=>n?s(n):o.isDirectory()?function(t,e,i,r,s,n){return e?os(i,r,s,n):function(t,e,i,r,s){Gr.mkdir(i,(n=>{if(n)return s(n);os(e,i,r,(e=>e?s(e):ns(i,t,s)))}))}(t.mode,i,r,s,n)}(o,t,e,i,r,s):o.isFile()||o.isCharacterDevice()||o.isBlockDevice()?function(t,e,i,r,s,n){return e?function(t,e,i,r,s){if(!r.overwrite)return r.errorOnExist?s(new Error(`'${i}' already exists`)):s();Gr.unlink(i,(n=>n?s(n):rs(t,e,i,r,s)))}(t,i,r,s,n):rs(t,i,r,s,n)}(o,t,e,i,r,s):o.isSymbolicLink()?function(t,e,i,r,s){Gr.readlink(e,((e,n)=>e?s(e):(r.dereference&&(n=Kr.resolve(process.cwd(),n)),t?void Gr.readlink(i,((t,e)=>t?"EINVAL"===t.code||"UNKNOWN"===t.code?Gr.symlink(n,i,s):s(t):(r.dereference&&(e=Kr.resolve(process.cwd(),e)),ts.isSrcSubdir(n,e)?s(new Error(`Cannot copy '${n}' to a subdirectory of itself, '${e}'.`)):ts.isSrcSubdir(e,n)?s(new Error(`Cannot overwrite '${e}' with '${n}'.`)):function(t,e,i){Gr.unlink(e,(r=>r?i(r):Gr.symlink(t,e,i)))}(n,i,s)))):Gr.symlink(n,i,s))))}(t,e,i,r,s):o.isSocket()?s(new Error(`Cannot copy a socket file: ${e}`)):o.isFIFO()?s(new Error(`Cannot copy a FIFO pipe: ${e}`)):s(new Error(`Unknown file: ${e}`))))}function rs(t,e,i,r,s){Gr.copyFile(e,i,(n=>n?s(n):r.preserveTimestamps?function(t,e,i,r){if(function(t){return 0==(128&t)}(t))return function(t,e,i){return ns(t,128|e,i)}(i,t,(s=>s?r(s):ss(t,e,i,r)));return ss(t,e,i,r)}(t.mode,e,i,s):ns(i,t.mode,s)))}function ss(t,e,i,r){!function(t,e,i){Gr.stat(t,((t,r)=>t?i(t):Qr(e,r.atime,r.mtime,i)))}(e,i,(e=>e?r(e):ns(i,t,r)))}function ns(t,e,i){return Gr.chmod(t,e,i)}function os(t,e,i,r){Gr.readdir(t,((s,n)=>s?r(s):hs(n,t,e,i,r)))}function hs(t,e,i,r,s){const n=t.pop();return n?function(t,e,i,r,s,n){const o=Kr.join(i,e),h=Kr.join(r,e);es(o,h,s,((e,a)=>e?n(e):a?void ts.checkPaths(o,h,"copy",s,((e,a)=>{if(e)return n(e);const{destStat:l}=a;is(l,o,h,s,(e=>e?n(e):hs(t,i,r,s,n)))})):hs(t,i,r,s,n)))}(t,n,e,i,r,s):s()}var as=function(t,e,i,r){"function"!=typeof i||r?"function"==typeof i&&(i={filter:i}):(r=i,i={}),r=r||function(){},(i=i||{}).clobber=!("clobber"in i)||!!i.clobber,i.overwrite="overwrite"in i?!!i.overwrite:i.clobber,i.preserveTimestamps&&"ia32"===process.arch&&process.emitWarning("Using the preserveTimestamps option in 32-bit node is not recommended;\n\n\tsee https://github.com/jprichardson/node-fs-extra/issues/269","Warning","fs-extra-WARN0001"),ts.checkPaths(t,e,"copy",i,((s,n)=>{if(s)return r(s);const{srcStat:o,destStat:h}=n;ts.checkParentPaths(t,o,e,"copy",(s=>{if(s)return r(s);es(t,e,i,((s,n)=>s?r(s):n?void function(t,e,i,r,s){const n=Kr.dirname(i);Xr(n,((o,h)=>o?s(o):h?is(t,e,i,r,s):void Zr(n,(n=>n?s(n):is(t,e,i,r,s)))))}(h,t,e,i,r):r()))}))}))};const ls=br,cs=e,us=Fr.mkdirsSync,ds=Yr,fs=zr;function ps(t,e,i,r){const s=(r.dereference?ls.statSync:ls.lstatSync)(e);if(s.isDirectory())return function(t,e,i,r,s){return e?ys(i,r,s):function(t,e,i,r){return ls.mkdirSync(i),ys(e,i,r),gs(i,t)}(t.mode,i,r,s)}(s,t,e,i,r);if(s.isFile()||s.isCharacterDevice()||s.isBlockDevice())return function(t,e,i,r,s){return e?function(t,e,i,r){if(r.overwrite)return ls.unlinkSync(i),ms(t,e,i,r);if(r.errorOnExist)throw new Error(`'${i}' already exists`)}(t,i,r,s):ms(t,i,r,s)}(s,t,e,i,r);if(s.isSymbolicLink())return function(t,e,i,r){let s=ls.readlinkSync(e);r.dereference&&(s=cs.resolve(process.cwd(),s));if(t){let t;try{t=ls.readlinkSync(i)}catch(t){if("EINVAL"===t.code||"UNKNOWN"===t.code)return ls.symlinkSync(s,i);throw t}if(r.dereference&&(t=cs.resolve(process.cwd(),t)),fs.isSrcSubdir(s,t))throw new Error(`Cannot copy '${s}' to a subdirectory of itself, '${t}'.`);if(fs.isSrcSubdir(t,s))throw new Error(`Cannot overwrite '${t}' with '${s}'.`);return function(t,e){return ls.unlinkSync(e),ls.symlinkSync(t,e)}(s,i)}return ls.symlinkSync(s,i)}(t,e,i,r);if(s.isSocket())throw new Error(`Cannot copy a socket file: ${e}`);if(s.isFIFO())throw new Error(`Cannot copy a FIFO pipe: ${e}`);throw new Error(`Unknown file: ${e}`)}function ms(t,e,i,r){return ls.copyFileSync(e,i),r.preserveTimestamps&&function(t,e,i){(function(t){return 0==(128&t)})(t)&&function(t,e){gs(t,128|e)}(i,t);(function(t,e){const i=ls.statSync(t);ds(e,i.atime,i.mtime)})(e,i)}(t.mode,e,i),gs(i,t.mode)}function gs(t,e){return ls.chmodSync(t,e)}function ys(t,e,i){ls.readdirSync(t).forEach((r=>function(t,e,i,r){const s=cs.join(e,t),n=cs.join(i,t);if(r.filter&&!r.filter(s,n))return;const{destStat:o}=fs.checkPathsSync(s,n,"copy",r);return ps(o,s,n,r)}(r,t,e,i)))}var vs=function(t,e,i){"function"==typeof i&&(i={filter:i}),(i=i||{}).clobber=!("clobber"in i)||!!i.clobber,i.overwrite="overwrite"in i?!!i.overwrite:i.clobber,i.preserveTimestamps&&"ia32"===process.arch&&process.emitWarning("Using the preserveTimestamps option in 32-bit node is not recommended;\n\n\tsee https://github.com/jprichardson/node-fs-extra/issues/269","Warning","fs-extra-WARN0002");const{srcStat:r,destStat:s}=fs.checkPathsSync(t,e,"copy",i);if(fs.checkParentPathsSync(t,r,e,"copy"),i.filter&&!i.filter(t,e))return;const n=cs.dirname(e);return ls.existsSync(n)||us(n),ps(s,t,e,i)};var bs={copy:(0,Zi.fromCallback)(as),copySync:vs};const ws=br;var Ss={remove:(0,Zi.fromCallback)((function(t,e){ws.rm(t,{recursive:!0,force:!0},e)})),removeSync:function(t){ws.rmSync(t,{recursive:!0,force:!0})}};const xs=Zi.fromPromise,Os=Ki,ks=e,Es=Fr,Ps=Ss,Ts=xs((async function(t){let e;try{e=await Os.readdir(t)}catch{return Es.mkdirs(t)}return Promise.all(e.map((e=>Ps.remove(ks.join(t,e)))))}));function $s(t){let e;try{e=Os.readdirSync(t)}catch{return Es.mkdirsSync(t)}e.forEach((e=>{e=ks.join(t,e),Ps.removeSync(e)}))}var Ms={emptyDirSync:$s,emptydirSync:$s,emptyDir:Ts,emptydir:Ts};const Cs=Zi.fromCallback,Ds=e,js=br,Is=Fr;var Fs={createFile:Cs((function(t,e){function i(){js.writeFile(t,"",(t=>{if(t)return e(t);e()}))}js.stat(t,((r,s)=>{if(!r&&s.isFile())return e();const n=Ds.dirname(t);js.stat(n,((t,r)=>{if(t)return"ENOENT"===t.code?Is.mkdirs(n,(t=>{if(t)return e(t);i()})):e(t);r.isDirectory()?i():js.readdir(n,(t=>{if(t)return e(t)}))}))}))})),createFileSync:function(t){let e;try{e=js.statSync(t)}catch{}if(e&&e.isFile())return;const i=Ds.dirname(t);try{js.statSync(i).isDirectory()||js.readdirSync(i)}catch(t){if(!t||"ENOENT"!==t.code)throw t;Is.mkdirsSync(i)}js.writeFileSync(t,"")}};const _s=Zi.fromCallback,Rs=e,As=br,Ls=Fr,Ns=Ar.pathExists,{areIdentical:Ys}=zr;var Vs={createLink:_s((function(t,e,i){function r(t,e){As.link(t,e,(t=>{if(t)return i(t);i(null)}))}As.lstat(e,((s,n)=>{As.lstat(t,((s,o)=>{if(s)return s.message=s.message.replace("lstat","ensureLink"),i(s);if(n&&Ys(o,n))return i(null);const h=Rs.dirname(e);Ns(h,((s,n)=>s?i(s):n?r(t,e):void Ls.mkdirs(h,(s=>{if(s)return i(s);r(t,e)}))))}))}))})),createLinkSync:function(t,e){let i;try{i=As.lstatSync(e)}catch{}try{const e=As.lstatSync(t);if(i&&Ys(e,i))return}catch(t){throw t.message=t.message.replace("lstat","ensureLink"),t}const r=Rs.dirname(e);return As.existsSync(r)||Ls.mkdirsSync(r),As.linkSync(t,e)}};const Us=e,Hs=br,Js=Ar.pathExists;var Ws={symlinkPaths:function(t,e,i){if(Us.isAbsolute(t))return Hs.lstat(t,(e=>e?(e.message=e.message.replace("lstat","ensureSymlink"),i(e)):i(null,{toCwd:t,toDst:t})));{const r=Us.dirname(e),s=Us.join(r,t);return Js(s,((e,n)=>e?i(e):n?i(null,{toCwd:s,toDst:t}):Hs.lstat(t,(e=>e?(e.message=e.message.replace("lstat","ensureSymlink"),i(e)):i(null,{toCwd:t,toDst:Us.relative(r,t)})))))}},symlinkPathsSync:function(t,e){let i;if(Us.isAbsolute(t)){if(i=Hs.existsSync(t),!i)throw new Error("absolute srcpath does not exist");return{toCwd:t,toDst:t}}{const r=Us.dirname(e),s=Us.join(r,t);if(i=Hs.existsSync(s),i)return{toCwd:s,toDst:t};if(i=Hs.existsSync(t),!i)throw new Error("relative srcpath does not exist");return{toCwd:t,toDst:Us.relative(r,t)}}}};const Bs=br;var qs={symlinkType:function(t,e,i){if(i="function"==typeof e?e:i,e="function"!=typeof e&&e)return i(null,e);Bs.lstat(t,((t,r)=>{if(t)return i(null,"file");e=r&&r.isDirectory()?"dir":"file",i(null,e)}))},symlinkTypeSync:function(t,e){let i;if(e)return e;try{i=Bs.lstatSync(t)}catch{return"file"}return i&&i.isDirectory()?"dir":"file"}};const zs=Zi.fromCallback,Gs=e,Ks=Ki,Zs=Fr.mkdirs,Xs=Fr.mkdirsSync,Qs=Ws.symlinkPaths,tn=Ws.symlinkPathsSync,en=qs.symlinkType,rn=qs.symlinkTypeSync,sn=Ar.pathExists,{areIdentical:nn}=zr;function on(t,e,i,r){Qs(t,e,((s,n)=>{if(s)return r(s);t=n.toDst,en(n.toCwd,i,((i,s)=>{if(i)return r(i);const n=Gs.dirname(e);sn(n,((i,o)=>i?r(i):o?Ks.symlink(t,e,s,r):void Zs(n,(i=>{if(i)return r(i);Ks.symlink(t,e,s,r)}))))}))}))}var hn={createSymlink:zs((function(t,e,i,r){r="function"==typeof i?i:r,i="function"!=typeof i&&i,Ks.lstat(e,((s,n)=>{!s&&n.isSymbolicLink()?Promise.all([Ks.stat(t),Ks.stat(e)]).then((([s,n])=>{if(nn(s,n))return r(null);on(t,e,i,r)})):on(t,e,i,r)}))})),createSymlinkSync:function(t,e,i){let r;try{r=Ks.lstatSync(e)}catch{}if(r&&r.isSymbolicLink()){const i=Ks.statSync(t),r=Ks.statSync(e);if(nn(i,r))return}const s=tn(t,e);t=s.toDst,i=rn(s.toCwd,i);const n=Gs.dirname(e);return Ks.existsSync(n)||Xs(n),Ks.symlinkSync(t,e,i)}};const{createFile:an,createFileSync:ln}=Fs,{createLink:cn,createLinkSync:un}=Vs,{createSymlink:dn,createSymlinkSync:fn}=hn;var pn={createFile:an,createFileSync:ln,ensureFile:an,ensureFileSync:ln,createLink:cn,createLinkSync:un,ensureLink:cn,ensureLinkSync:un,createSymlink:dn,createSymlinkSync:fn,ensureSymlink:dn,ensureSymlinkSync:fn};var mn={stringify:function(t,{EOL:e="\n",finalEOL:i=!0,replacer:r=null,spaces:s}={}){const n=i?e:"";return JSON.stringify(t,r,s).replace(/\n/g,e)+n},stripBom:function(t){return Buffer.isBuffer(t)&&(t=t.toString("utf8")),t.replace(/^\uFEFF/,"")}};let gn;try{gn=br}catch(e){gn=t}const yn=Zi,{stringify:vn,stripBom:bn}=mn;const wn=yn.fromPromise((async function(t,e={}){"string"==typeof e&&(e={encoding:e});const i=e.fs||gn,r=!("throws"in e)||e.throws;let s,n=await yn.fromCallback(i.readFile)(t,e);n=bn(n);try{s=JSON.parse(n,e?e.reviver:null)}catch(e){if(r)throw e.message=`${t}: ${e.message}`,e;return null}return s}));const Sn=yn.fromPromise((async function(t,e,i={}){const r=i.fs||gn,s=vn(e,i);await yn.fromCallback(r.writeFile)(t,s,i)}));const xn={readFile:wn,readFileSync:function(t,e={}){"string"==typeof e&&(e={encoding:e});const i=e.fs||gn,r=!("throws"in e)||e.throws;try{let r=i.readFileSync(t,e);return r=bn(r),JSON.parse(r,e.reviver)}catch(e){if(r)throw e.message=`${t}: ${e.message}`,e;return null}},writeFile:Sn,writeFileSync:function(t,e,i={}){const r=i.fs||gn,s=vn(e,i);return r.writeFileSync(t,s,i)}};var On={readJson:xn.readFile,readJsonSync:xn.readFileSync,writeJson:xn.writeFile,writeJsonSync:xn.writeFileSync};const kn=Zi.fromCallback,En=br,Pn=e,Tn=Fr,$n=Ar.pathExists;var Mn={outputFile:kn((function(t,e,i,r){"function"==typeof i&&(r=i,i="utf8");const s=Pn.dirname(t);$n(s,((n,o)=>n?r(n):o?En.writeFile(t,e,i,r):void Tn.mkdirs(s,(s=>{if(s)return r(s);En.writeFile(t,e,i,r)}))))})),outputFileSync:function(t,...e){const i=Pn.dirname(t);if(En.existsSync(i))return En.writeFileSync(t,...e);Tn.mkdirsSync(i),En.writeFileSync(t,...e)}};const{stringify:Cn}=mn,{outputFile:Dn}=Mn;var jn=async function(t,e,i={}){const r=Cn(e,i);await Dn(t,r,i)};const{stringify:In}=mn,{outputFileSync:Fn}=Mn;var _n=function(t,e,i){const r=In(e,i);Fn(t,r,i)};const Rn=Zi.fromPromise,An=On;An.outputJson=Rn(jn),An.outputJsonSync=_n,An.outputJSON=An.outputJson,An.outputJSONSync=An.outputJsonSync,An.writeJSON=An.writeJson,An.writeJSONSync=An.writeJsonSync,An.readJSON=An.readJson,An.readJSONSync=An.readJsonSync;var Ln=An;const Nn=br,Yn=e,Vn=bs.copy,Un=Ss.remove,Hn=Fr.mkdirp,Jn=Ar.pathExists,Wn=zr;function Bn(t,e,i,r,s){return r?qn(t,e,i,s):i?Un(e,(r=>r?s(r):qn(t,e,i,s))):void Jn(e,((r,n)=>r?s(r):n?s(new Error("dest already exists.")):qn(t,e,i,s)))}function qn(t,e,i,r){Nn.rename(t,e,(s=>s?"EXDEV"!==s.code?r(s):function(t,e,i,r){const s={overwrite:i,errorOnExist:!0};Vn(t,e,s,(e=>e?r(e):Un(t,r)))}(t,e,i,r):r()))}var zn=function(t,e,i,r){"function"==typeof i&&(r=i,i={});const s=(i=i||{}).overwrite||i.clobber||!1;Wn.checkPaths(t,e,"move",i,((i,n)=>{if(i)return r(i);const{srcStat:o,isChangingCase:h=!1}=n;Wn.checkParentPaths(t,o,e,"move",(i=>i?r(i):function(t){const e=Yn.dirname(t);return Yn.parse(e).root===e}(e)?Bn(t,e,s,h,r):void Hn(Yn.dirname(e),(i=>i?r(i):Bn(t,e,s,h,r)))))}))};const Gn=br,Kn=e,Zn=bs.copySync,Xn=Ss.removeSync,Qn=Fr.mkdirpSync,to=zr;function eo(t,e,i){try{Gn.renameSync(t,e)}catch(r){if("EXDEV"!==r.code)throw r;return function(t,e,i){const r={overwrite:i,errorOnExist:!0};return Zn(t,e,r),Xn(t)}(t,e,i)}}var io=function(t,e,i){const r=(i=i||{}).overwrite||i.clobber||!1,{srcStat:s,isChangingCase:n=!1}=to.checkPathsSync(t,e,"move",i);return to.checkParentPathsSync(t,s,e,"move"),function(t){const e=Kn.dirname(t);return Kn.parse(e).root===e}(e)||Qn(Kn.dirname(e)),function(t,e,i,r){if(r)return eo(t,e,i);if(i)return Xn(e),eo(t,e,i);if(Gn.existsSync(e))throw new Error("dest already exists.");return eo(t,e,i)}(t,e,r,n)};var ro={move:(0,Zi.fromCallback)(zn),moveSync:io},so={...Ki,...bs,...Ms,...pn,...Ln,...Fr,...ro,...Mn,...Ar,...Ss};async function no(t,e,i,r){try{await ho(t,e,i,r),await oo(t,e,i,r)}catch(t){console.error(`Error processing directory in replaceTextInDirAndFiles: ${t}`)}}async function oo(i,r,s,n){const{allowedDirs:o=[],blockedDirs:h=[]}=n||{};try{const a=await t.promises.readdir(i);for(const l of a){const a=e.join(i,l);if((await t.promises.stat(a)).isDirectory()){if(h.includes(l)||!o.includes(l)&&o.length>0)continue;const c=e.join(i,l.replaceAll(r,s));await t.promises.rename(a,c),console.log(`Replaced Dir: ${a} ==> ${c}`),await oo(a,r,s,n)}}}catch(t){console.error(`Error processing directory in renameDirsInDir: ${t}`)}}async function ho(i,r,s,n){const{allowedFiles:o=[],blockedFiles:h=[]}=n||{};try{const a=await t.promises.readdir(i);for(const l of a){const a=e.join(i,l),c=await t.promises.stat(a);if(c.isDirectory())await ho(a,r,s,n);else if(c.isFile()){if(h.includes(l)||!o.includes(l)&&o.length>0)continue;const e=(await t.promises.readFile(a,"utf8")).replaceAll(r,s);await t.promises.writeFile(a,e,"utf8"),console.log(`Replaced text in file: ${a}`)}}}catch(t){console.error(`Error processing directory in replaceTextInFilesInDir: ${t}`)}}const ao=async(t,e,i)=>{console.log("replacementText",i);if(!/^[a-zA-Z][a-zA-Z0-9_-]*$/.test(i))return console.error("项目名请以字母、数字、下划线和连字符组成");try{console.log("hhhh"),await async function(t,e){try{await so.copy(t,e),console.log(`Successfully copied ${t} to ${e}`)}catch(i){console.error(`Error copying ${t} to ${e}: ${i}`)}}(t,e),await no(e,"${template---name}",i)}catch(t){console.error(t)}},lo=kt.dirname(a.fileURLToPath("undefined"==typeof document?require("url").pathToFileURL(__filename).href:document.currentScript&&document.currentScript.src||new URL("outfile.cjs",document.baseURI).href));let co=process.argv.slice(2)[0];(async function(){console.log(),console.log(process.stdout.isTTY&&process.stdout.getColorDepth()>8?Gi:zi),console.log();const t=process.cwd(),e="project-template";let i={};try{i=await Ai([{name:"projectName",type:co?null:"text",message:"Project name:",initial:e,onState:t=>co=String(t.value).trim()||e,validate:t=>function(t){return/^(?:@[a-z0-9-*~][a-z0-9-*._~]*\/)?[a-z0-9-~][a-z0-9-._~]*$/.test(t)}(t)||"Invalid package.json name"},{name:"shouldOverwrite",type:()=>function(t){if(!Ot.existsSync(t))return!0;const e=Ot.readdirSync(t);return 0===e.length||1===e.length&&".git"===e[0]}(co)?null:"confirm",message:()=>`${"."===co?"Current directory":`Target directory "${co}"`} is not empty. Remove existing files and continue?`},{name:"overwriteChecker",type:(t,e)=>{if(!1===e.shouldOverwrite)throw new Error(Ji("✖")+" Operation cancelled");return null}}],{onCancel:()=>{throw new Error(Ji("✖")+" Operation cancelled")}})}catch(t){console.log(t.message),process.exit(1)}const{projectName:r,shouldOverwrite:s}=i,n=kt.join(t,r);if(Ot.existsSync(n)&&s?qi(n):Ot.existsSync(n)||Ot.mkdirSync(n),await ao(kt.join(lo,"templates"),n,r),console.log(`\nScaffolding project in ${n}...`),console.log("\nDone. Now run:\n"),n!==t){const e=kt.relative(t,n);console.log(`  ${Hi(Wi(`cd ${e.includes(" ")?`"${e}"`:e}`))}`)}console.log(`  ${Hi(Wi("pnpm install"))}`),console.log()})().catch((t=>{console.error(t)}));
